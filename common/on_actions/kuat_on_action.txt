on_game_start_country = {
	events = {
		exe_invasion.1000
	}
}

on_entering_battle = {
	events = {
		exe_invasion.110
		exe_invasion.116
		exe_invasion.117
		exe_invasion.120

		exe_invasion.2500

		ag_kae_ge_invasion.114			# Attack guardian before it turn into hostile.
		kuat_final_crisis_events.59		# Attack infinite starbase

		exe_invasion.130
		exe_invasion.133
		exe_invasion.135

		exe_dynamic.1
		exe_dynamic.4
	}
}

on_colonized = {
	events = {
		kuat_epsilon.6
		executor_build.1004
	}
}

# No scope, like on_game_start
# Does not run when loading MP saves due to OOS concerns
on_single_player_save_game_load = {
	events = {
		exe_invasion.9998
		exe_invasion.9999
	}
}

kuat_on_system_selector_confirm = {
	events = {
		kuat_starkiller.14
		kuat_starkiller.16
	}
}



#This = destroyed country
#From = optional, destroyer (country)
on_country_destroyed = {
	events = {
		executor_build.5

		exe_kuat_return.15

		kuat_starkiller.9

		kuat_final_crisis_events.50		# Win
	}
}

# Checked when a ship be destroyed, on loser's country
# Country Scope, owner of the destroyed ship
# From(Country Scope), owner of the ship which destroyed another ship
# FromFrom(Ship Scope), the ship be destroyed
# FromFromFrom(Ship Scope), the ship which destroyed another ship
on_ship_destroyed_victim = {
	events = {
		executor_build.7
		exe_invasion.139
		exe_invasion.146

		ag_kae_ge_invasion.234			# Portal destroyed.
		kuat_final_crisis_events.11		# Portal destroyed.
		kuat_final_crisis_events.44		# Kill count

		exe_return_invasion.22

		exe_invasion.22
		kuat_extramonster.22

		kuat_legacy.46

		kuat_fleet_calling.9
	}
}

# Checked when a ship be destroyed, on winner's country
# Country Scope, owner of the ship which destroyed another ship
# From(Country Scope), owner of the destroyed ship
# FromFrom(Ship Scope), the ship which destroyed another ship
# FromFromFrom(Ship Scope), the ship be destroyed
on_ship_destroyed_perp = {
	events = {
		ag_kae_ge_invasion.120			# Guardian destroyed
		ag_kae_ge_invasion.230			# Ship destroy counter.
		kuat_final_crisis_events.45		# Killed count

		exe_invasion.139
		exe_invasion.123
		ai_action.8

		exe_return_invasion.13
		exe_return_invasion.23

		exe_invasion.13
		exe_invasion.23
		exe_invasion.127

		kuat_extramonster.13

		kuat_extramonster.23
	}
}

on_ship_built = {
	events = {
		executor_build.9
		kuat_starkiller.13
	}
}

on_planet_bombarded = {
	events = {
		ag_kae_ge_invasion.231			# Planet destroyed.
		kuat_final_crisis_events.10		# Planet destroyed.

		ai_action.2

		kuat_plague.161
		kuat_plague.8

		exe_return_invasion.21

		exe_invasion.21

		kuat_extramonster.21
	}
}

on_war_beginning = {
	events = {
		ai_action.1
	}
}

# This = owner of fleet 1 (destroyed)
# From = owner of fleet 2 (combatant)
# FromFrom = fleet 1
# FromFromFrom = fleet 2
on_fleet_destroyed_victim = {
	events = {
		ag_kae_ge_invasion.219			# Reset Eternal Guardian Fleet
		kuat_final_crisis_events.46		# Reset Infinite Fleet

		ai_action.1
		ai_action.7
		ai_action.11
		kuat_starkiller.19
		executor_build.806
	}
}

# This = owner of fleet 1 (combatant)
# From = owner of fleet 2 (destroyed)
# FromFrom = fleet 1
# FromFromFrom = fleet 2
on_fleet_destroyed_perp = {
	events = {
		executor_build.807

		exe_return_invasion.17
		exe_return_invasion.30
		exe_return_invasion.31
		exe_return_invasion.32

		exe_invasion.31
		exe_invasion.32

		kuat_extramonster.31
		kuat_extramonster.301
		kuat_extramonster.30
	}
}

#试图打开外交窗口时检测。
# This：发起者（国家）
# From：接收者（国家）
on_custom_diplomacy = {
	events = {
		kuat_final_crisis_events.20		# Diplomacy for infinite empire

		kuat_EEstart.5
		kuat_EEstart.10
		kuat_shipyard.1
		kuat_legacy.88
		kuat_origin.9
		kuat_legacy.104
	}
}

#建造完成后检测，此时空间站尚未被创建。
# This：工程船（舰船事件）
on_building_starbase_outpost = {
	events = {
		kuat_missions.22
	}
}

# Triggers event when each country first sends a ship into the system (once per country)
# Scope = Ship
# From = System
# FromFrom = Country
on_entering_system_first_time = {
	events = {
		kuat_legacy.21
		kuat_legacy.50
		kuat_legacy.58
		kuat_legacy.68
		kuat_legacy.102
		kuat_epsilon.1

		exe_return_invasion.28
	}
}

# A country has gained a surveyed status on a planet. Happens after "on_survey" if a science ship surveyed a planet.
# Root = Planet
# From = Country
# FromFrom = Fleet of the science ship that surveyed it, if any
on_planet_surveyed = {
	events = {
		kuat_legacy.69
		kuat_legacy.59
	}
}


# A country has gained a surveyed status on a planet. Happens after "on_survey" if a science ship surveyed a planet.
# Root = Country
# From = system
# FromFrom = Fleet of the science ship that surveyed it, if any
on_system_survey = {
	events = {
		executor_build.44
	}
}


on_entering_system_fleet = {
	events = {
		ag_kae_ge_invasion.110			# Entering E Area first time, notification.
		ag_kae_ge_invasion.113			# Entering system again.

		exe_return_invasion.15
		exe_return_invasion.36
		exe_return_invasion.333			# Entering warning

		exe_invasion.15

		kuat_extramonster.15

		kuat_fleet_calling.11
	}
}
on_fleet_auto_move_arrival = {
	events = {
		ag_kae_ge_invasion.243			# Reset target on stars.

		exe_return_invasion.14

		exe_invasion.14

		kuat_extramonster.14
	}
}
on_entering_system = {
	events = {
		ag_kae_ge_invasion.244			# system location check
	}
}

on_pop_purged = {
	events = {
		kuat_plague.7
	}
}

on_planet_attackers_win = {
	events = {
		kuat_plague.5
		kuat_plague.6
	}
}

on_planet_ownerless = {
	events = {
		kuat_plague.11
	}
}

on_terraforming_complete = {
	events = {
		kuat_plague.153
	}
}

on_jump_drive = {
	events = {
		kuat_legacy.45
	}
}

# Checked when a ship be disabled
# Ship Scope, the ship that be disabled
# From(Ship Scope), the ship that disabled the victim
on_ship_disabled = {
	events = {
		# exe_invasion.115
		exe_invasion.124
		# exe_invasion.128
	}
}	