swfo_starkillerbase_0 = {
	entity = "construction_platform_entity"
	construction_entity = "construction_platform_entity"
	portrait = "GFX_megastructure_starkiller_background1"
	construction_blocks_others = yes
	potential = { always = no }
	ai_weight = { factor = 0 }
}

swfo_starkillerbase_0_1 = {
	entity = "starkillerbase_megastructure_entity"
	construction_entity = "starkillerbase_megastructure_entity"
	portrait = "GFX_megastructure_starkiller_background2"
	construction_blocks_others = yes
	upgrade_from = {
		swfo_starkillerbase_0
	}
	build_time = 3600
	resources = {
		category = megastructures
		cost = {
			alloys = 15000
			influence = 500
			minerals = 20000
		}
		upkeep = { energy = 15 }
	}
	ai_weight = { factor = 0 }
}

swfo_starkillerbase_0_2 = {
	entity = "starkillerbase_megastructure_entity"
	construction_entity = "starkillerbase_megastructure_entity"
	portrait = "GFX_megastructure_starkiller_background3"
	construction_blocks_others = yes
	upgrade_from = {
		swfo_starkillerbase_0_1
	}
	build_time = 10800
	resources = {
		category = megastructures
		cost = {
			alloys = 30000
		}
		upkeep = {
			energy = 25
		}
	}
	ai_weight = { factor = 0 }
}

swfo_starkillerbase_1 = {
	entity = "starkillerbase_megastructure_entity"
	construction_entity = "starkillerbase_megastructure_entity"
	portrait = "GFX_megastructure_starkiller_background4"
	construction_blocks_others = no
	upgrade_from = { swfo_starkillerbase_0_2 }
	build_time = 5400
	resources = {
		category = megastructures
		cost = {
			alloys = 35000
		}
		upkeep = {
			energy = 150
		}
	}
	on_build_start = { }
	on_build_cancel = { }
	on_build_complete = { }
}

swfo_starkillerbase_15 = {
	entity = "starkillerbase_megastructure_entity"
	construction_entity = "starkillerbase_megastructure_entity"
	portrait = "GFX_megastructure_starkiller_background4"
	construction_blocks_others = no
	upgrade_from = { swfo_starkillerbase_1 }
	build_time = 1
	resources = {
		category = megastructures
		cost = { sr_dark_matter = 5000 }
	}
	potential = { NOT = { has_global_flag = starkillerbase_not_passed } }
	on_build_start = { }
	on_build_cancel = { }
	on_build_complete = {
		set_star_flag = rebuild_soon
		from = {
			set_country_flag = kuat_enabled_epsilon_planet_killer_selector
			country_event = { id = kuat_system_selector.1 }
		}
		fromfrom.planet = { set_planet_flag = buildingsoon }
	}
}

swfo_starkillerbase_2 = {
	entity = "starkillerbase_firing_entity"
	construction_entity = "starkillerbase_megastructure_entity"
	portrait = "GFX_megastructure_construction_background"
	construction_blocks_others = no
	upgrade_desc = hide
	upgrade_from = { swfo_starkillerbase_15 }
	build_time = 1
	resources = {
		category = megastructures
		cost = { sr_dark_matter = 5000 }
	}
	potential = { always = no }
	on_build_start = { }
	on_build_cancel = { }
	on_build_complete = { }
}

swfo_starkillerbase_a = {
	entity = "starkillerbase_megastructure_entity"
	construction_entity = "starkillerbase_megastructure_entity"
	portrait = "GFX_megastructure_construction_background"
	construction_blocks_others = no
	build_time = 0
	potential = { always = no }
	possible = { }
	on_build_start = { }
	on_build_cancel = { }
	on_build_complete = { }
}

##############Target Marker - PLANET############
starkiller_planet_target_marker_0 = {
	entity = "starkiller_market_entity"
	construction_entity = "starkiller_market_entity"
	portrait = "GFX_megastructure_construction_background"
	construction_blocks_others = no
	entity_offset = { x = 0 y = 0 }
	build_time = 0
	resources = {
		category = megastructures
		cost = {
			energy = 10000
			influence = 200
		}
	}
	potential = { always = no }
	ai_weight = { factor = 0 }
	on_build_start = { }
	on_build_cancel = { }
	on_build_complete = { }
}

#######################################Wormhole over planet
starkiller_planet_target_marker_1 = {
	entity = "starkillerbase_target_portal_entity"
	construction_entity = ""
	portrait = "GFX_megastructure_construction_background"
	construction_blocks_others = no
	entity_offset = { x = 0 y = 0 }
	build_time = 0
	upgrade_desc = hide
	upgrade_from = {
		starkiller_planet_target_marker_0
	}
	potential = { always = no }
	possible = { }
	ai_weight = { weight = 0 }
	on_build_start = { }
	on_build_cancel = { }
	on_build_complete = { }
}

#######################################Starkiller fire in planet
starkiller_planet_target_marker_2 = {
	entity = "starkillerbsae_target_portal_beam_entity"
	construction_entity = ""
	portrait = "GFX_megastructure_construction_background"
	entity_offset = { x = 0 y = 0 }
	build_time = 0
	upgrade_from = {
		starkiller_planet_target_marker_1
	}
	upgrade_desc = hide
	potential = { always = no }
	possible = { }
	ai_weight = { weight = 0 }
	on_build_complete = { }
}


############################################################
swfo_sun_drain = {
	entity = "starkiller_sun_drain_entity"
	construction_entity = ""
	portrait = "GFX_megastructure_construction_background"
	construction_blocks_others = no
	build_time = 0
	potential = { always = no }
	possible = { }
	ai_weight = { weight = 0 }
	on_build_start = { }
	on_build_cancel = { }
	on_build_complete = {
		fromfrom.planet = { set_planet_flag = sunflaglocation }
	}
}