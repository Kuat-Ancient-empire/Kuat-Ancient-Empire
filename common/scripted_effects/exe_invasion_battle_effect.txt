@initial_value = 0
#penetration value
@origin_value = 1
@mult_origin_value = -1
#tracking weapondamage value
@fromfromfrom_scope_weapon_value = 0.25
@mult_fromfromfrom_scope_weapon_value = -0.25
#tracking addon
@add_tracking_value = 100
#eternal damage system value
@fromfromfrom_scope_value = 0.75
@mult_fromfromfrom_scope_value = -0.75

# scope: ship
increase_executor_power = {
	if = {
		limit = { has_hp <= 20000000 }
		clear_ship_modifier = { modifier = ship_hull_mult DAYS = $DAYS$ }
		add_modifier = { modifier = increase_hp_5000000_times days = $DAYS$ }
	}
	else_if = {
		limit = { has_hp <= 40000000 }
		clear_ship_modifier = { modifier = ship_hull_mult DAYS = $DAYS$ }
		add_modifier = { modifier = increase_hp_4000000_times days = $DAYS$ }
	}
	else_if = {
		limit = { has_hp <= 60000000 }
		clear_ship_modifier = { modifier = ship_hull_mult DAYS = $DAYS$ }
		add_modifier = { modifier = increase_hp_3000000_times days = $DAYS$ }
	}
	else_if = {
		limit = { has_hp <= 80000000 }
		clear_ship_modifier = { modifier = ship_hull_mult DAYS = $DAYS$ }
		add_modifier = { modifier = increase_hp_2000000_times days = $DAYS$ }
	}
	else_if = {
		limit = { has_hp <= 100000000 }
		clear_ship_modifier = { modifier = ship_hull_mult DAYS = $DAYS$ }
		add_modifier = { modifier = increase_hp_1000000_times days = $DAYS$ }
	}
}

increase_ship_hp_effect_change = {
	every_owned_ship = {
		set_timed_ship_flag = { flag = is_invisiable_trigger days = $DAYS$ }
		increase_executor_power = { DAYS = $DAYS$ }
		ship_event = { id = exe_invasion.119 }
	}
	set_fleet_modifier = { SUB = Eternal_submit DAYS = -1 }
}

clear_ship_modifier = {
	if = {
		limit = { 
			NOT = { is_variable_set = $modifier$_value_iep } 
			check_modifier_value = { modifier = $modifier$ value > @initial_value }
		}
		export_modifier_to_variable = { modifier = $modifier$ variable = $modifier$_value_iep }
		subtract_variable = { which = $modifier$_value_iep value = 1 }
		if = {
			limit = { is_variable_set = $modifier$_value_iep }
			set_ship_flag = has_$modifier$_iep
			if = {
				limit = { is_variable_set = $modifier$_value_iep has_ship_flag = has_$modifier$_iep }
				set_invasion_fleet_basic_modifier = { SUB = iep_basic_$modifier$ FACTOR = $modifier$_value_iep DAYS = $DAYS$ }
				remove_ship_flag = has_$modifier$_iep
			}
		}
	}
	else = {
		if = {
			limit = { is_variable_set = change_$modifier$_value_iep }
			clear_variable = change_$modifier$_value_iep
		}
		export_modifier_to_variable = { modifier = $modifier$ variable = change_$modifier$_value_iep }
		subtract_variable = { which = change_$modifier$_value_iep value = 1 }
		if = {
			limit = { is_variable_set = change_$modifier$_value_iep }
			set_ship_flag = has_$modifier$_iep_changed
			if = {
				limit = { is_variable_set = change_$modifier$_value_iep has_ship_flag = has_$modifier$_iep_changed }
				set_invasion_fleet_basic_modifier = { SUB = iep_change_basic_$modifier$ FACTOR = change_$modifier$_value_iep DAYS = $DAYS$ }
				remove_ship_flag = has_$modifier$_iep_changed
			}
		}
	}
}

remove_executor_power = {
	clear_variable = ship_hull_mult_value_iep
	clear_variable = change_ship_hull_mult_value_iep
	remove_modifier = iep_basic_ship_hull_mult
	remove_modifier = iep_change_basic_ship_hull_mult
	remove_modifier = increase_hp_5000000_times
	remove_modifier = increase_hp_4000000_times
	remove_modifier = increase_hp_3000000_times
	remove_modifier = increase_hp_2000000_times
	remove_modifier = increase_hp_1000000_times
}

set_eternal_fleet_mult_modifier = {
	#scope: fromfromfrom
	[[shield_penetration] if = { 
		limit = { 
			NOT = { is_variable_set = $shield_penetration$_value } 
			NOT = { check_modifier_value = { modifier = $shield_penetration$ value = @mult_origin_value } }
		}
		export_modifier_to_variable = { modifier = $shield_penetration$ variable = $shield_penetration$_value }
		if = {
			limit = { is_variable_set = $shield_penetration$_value }
			change_variable = { which = $shield_penetration$_value value = @origin_value }
			set_ship_flag = has_$shield_penetration$
			if = {
				limit = { is_variable_set = $shield_penetration$_value has_ship_flag = has_$shield_penetration$ }
				set_invasion_fleet_basic_modifier = { SUB = basic_$shield_penetration$ FACTOR = $shield_penetration$_value }
				remove_ship_flag = has_$shield_penetration$
			}
		}
	} else = { 
		if = {
			limit = { is_variable_set = change_$shield_penetration$_value }
			clear_variable = change_$shield_penetration$_value
		}
		export_modifier_to_variable = { modifier = $shield_penetration$ variable = change_$shield_penetration$_value }
		if = {
			limit = { is_variable_set = change_$shield_penetration$_value }
			change_variable = { which = change_$shield_penetration$_value value = @origin_value }
			set_ship_flag = has_$shield_penetration$_changed
			if = {
				limit = { is_variable_set = change_$shield_penetration$_value has_ship_flag = has_$shield_penetration$_changed }
				set_invasion_fleet_basic_modifier = { SUB = change_basic_$shield_penetration$ FACTOR = change_$shield_penetration$_value }
				remove_ship_flag = has_$shield_penetration$_changed
			}
		}
	}]
	[[armor_penetration] if = { 
		limit = { 
			NOT = { is_variable_set = $armor_penetration$_value } 
			NOT = { check_modifier_value = { modifier = $armor_penetration$ value = @mult_origin_value } }
		}
		export_modifier_to_variable = { modifier = $armor_penetration$ variable = $armor_penetration$_value }
		if = {
			limit = { is_variable_set = $armor_penetration$_value }
			change_variable = { which = $armor_penetration$_value value = @origin_value }
			set_ship_flag = has_$armor_penetration$
			if = {
				limit = { is_variable_set = $armor_penetration$_value has_ship_flag = has_$armor_penetration$ }
				set_invasion_fleet_basic_modifier = { SUB = basic_$armor_penetration$ FACTOR = $armor_penetration$_value }
				remove_ship_flag = has_$armor_penetration$
			}
		}
	} else = { 
		if = {
			limit = { is_variable_set = change_$armor_penetration$_value }
			clear_variable = change_$armor_penetration$_value
		}
		export_modifier_to_variable = { modifier = $armor_penetration$ variable = change_$armor_penetration$_value }
		if = {
			limit = { is_variable_set = change_$armor_penetration$_value }
			change_variable = { which = change_$armor_penetration$_value value = @origin_value }
			set_ship_flag = has_$armor_penetration$_changed
			if = {
				limit = { is_variable_set = change_$armor_penetration$_value has_ship_flag = has_$armor_penetration$_changed }
				set_invasion_fleet_basic_modifier = { SUB = change_basic_$armor_penetration$ FACTOR = change_$armor_penetration$_value }
				remove_ship_flag = has_$armor_penetration$_changed
			}
		}
	}]
	[[armor_damage] if = {
		limit = { 
			NOT = { is_variable_set = $armor_damage$_value } 
			check_modifier_value = { modifier = $armor_damage$ value > @mult_origin_value } 
		}
		export_modifier_to_variable = { modifier = $armor_damage$ variable = $armor_damage$_value }
		if = {
			limit = { is_variable_set = $armor_damage$_value }
			change_variable = { which = $armor_damage$_value value = @origin_value }
			set_ship_flag = has_$armor_damage$
			if = {
				limit = { is_variable_set = $armor_damage$_value has_ship_flag = has_$armor_damage$ }
				set_invasion_fleet_basic_modifier = { SUB = basic_$armor_damage$ FACTOR = $armor_damage$_value }
				remove_ship_flag = has_$armor_damage$
			}
		}
	} else = { 
		if = {
			limit = { is_variable_set = change_$armor_damage$_value }
			clear_variable = change_$armor_damage$_value
		}
		if = {
			limit = { fleet = { has_enable_flag_ship_system_true = yes } }
			export_modifier_to_variable = { modifier = $armor_damage$ variable = change_$armor_damage$_value }
			if = {
				limit = { is_variable_set = change_$armor_damage$_value }
				change_variable = { which = change_$armor_damage$_value value = @fromfromfrom_scope_value }
				set_ship_flag = has_$armor_damage$_change
				if = {
					limit = { is_variable_set = change_$armor_damage$_value has_ship_flag = has_$armor_damage$_change }
					set_invasion_fleet_basic_modifier = { SUB = change_basic_$armor_damage$ FACTOR = change_$armor_damage$_value }
					remove_ship_flag = has_$armor_damage$_change
				}
			}
		}
		else_if = {
			limit = { fleet = { has_enable_flag_ship_system_true = no } }
			export_modifier_to_variable = { modifier = $armor_damage$ variable = change_$armor_damage$_value }
			if = {
				limit = { is_variable_set = change_$armor_damage$_value }
				change_variable = { which = change_$armor_damage$_value value = @origin_value }
				set_ship_flag = has_$armor_damage$_change
				if = {
					limit = { is_variable_set = change_$armor_damage$_value has_ship_flag = has_$armor_damage$_change }
					set_invasion_fleet_basic_modifier = { SUB = change_basic_$armor_damage$ FACTOR = change_$armor_damage$_value }
					remove_ship_flag = has_$armor_damage$_change
				}
			}
		}
	}]
	[[shield_damage] if = {
		limit = { 
			NOT = { is_variable_set = $shield_damage$_value } 
			check_modifier_value = { modifier = $shield_damage$ value > @mult_origin_value } 
		}
		export_modifier_to_variable = { modifier = $shield_damage$ variable = $shield_damage$_value }
		if = {
			limit = { is_variable_set = $shield_damage$_value }
			change_variable = { which = $shield_damage$_value value = @origin_value }
			set_ship_flag = has_$shield_damage$
			if = {
				limit = { is_variable_set = $shield_damage$_value has_ship_flag = has_$shield_damage$ }
				set_invasion_fleet_basic_modifier = { SUB = basic_$shield_damage$ FACTOR = $shield_damage$_value }
				remove_ship_flag = has_$shield_damage$
			}
		}
	} else = { 
		if = {
			limit = { is_variable_set = change_$shield_damage$_value }
			clear_variable = change_$shield_damage$_value
		}
		if = {
			limit = { fleet = { has_enable_flag_ship_system_true = yes } }
			export_modifier_to_variable = { modifier = $shield_damage$ variable = change_$shield_damage$_value }
			if = {
				limit = { is_variable_set = change_$shield_damage$_value }
				change_variable = { which = change_$shield_damage$_value value = @fromfromfrom_scope_value }
				set_ship_flag = has_$shield_damage$_change
				if = {
					limit = { is_variable_set = change_$shield_damage$_value has_ship_flag = has_$shield_damage$_change }
					set_invasion_fleet_basic_modifier = { SUB = change_basic_$shield_damage$ FACTOR = change_$shield_damage$_value }
					remove_ship_flag = has_$shield_damage$_change
				}
			}
		}
		else_if = {
			limit = { fleet = { has_enable_flag_ship_system_true = no } }
			export_modifier_to_variable = { modifier = $shield_damage$ variable = change_$shield_damage$_value }
			if = {
				limit = { is_variable_set = change_$shield_damage$_value }
				change_variable = { which = change_$shield_damage$_value value = @origin_value }
				set_ship_flag = has_$shield_damage$_change
				if = {
					limit = { is_variable_set = change_$shield_damage$_value has_ship_flag = has_$shield_damage$_change }
					set_invasion_fleet_basic_modifier = { SUB = change_basic_$shield_damage$ FACTOR = change_$shield_damage$_value }
					remove_ship_flag = has_$shield_damage$_change
				}
			}
		}
	}]
	[[hull_damage] if = {
		limit = { 
			NOT = { is_variable_set = $hull_damage$_value } 
			check_modifier_value = { modifier = $hull_damage$ value > @mult_origin_value } 
		}
		export_modifier_to_variable = { modifier = $hull_damage$ variable = $hull_damage$_value }
		if = {
			limit = { is_variable_set = $hull_damage$_value }
			change_variable = { which = $hull_damage$_value value = @origin_value }
			set_ship_flag = has_$hull_damage$
			if = {
				limit = { is_variable_set = $hull_damage$_value has_ship_flag = has_$hull_damage$ }
				set_invasion_fleet_basic_modifier = { SUB = basic_$hull_damage$ FACTOR = $hull_damage$_value }
				remove_ship_flag = has_$hull_damage$
			}
		}
	} else = { 
		if = {
			limit = { is_variable_set = change_$hull_damage$_value }
			clear_variable = change_$hull_damage$_value
		}
		if = {
			limit = { fleet = { has_enable_flag_ship_system_true = yes } }
			export_modifier_to_variable = { modifier = $hull_damage$ variable = change_$hull_damage$_value }
			if = {
				limit = { is_variable_set = change_$hull_damage$_value }
				change_variable = { which = change_$hull_damage$_value value = @fromfromfrom_scope_value }
				set_ship_flag = has_$hull_damage$_change
				if = {
					limit = { is_variable_set = change_$hull_damage$_value has_ship_flag = has_$hull_damage$_change }
					set_invasion_fleet_basic_modifier = { SUB = change_basic_$hull_damage$ FACTOR = change_$hull_damage$_value }
					remove_ship_flag = has_$hull_damage$_change
				}
			}
		}
		else_if = {
			limit = { fleet = { has_enable_flag_ship_system_true = no } }
			export_modifier_to_variable = { modifier = $hull_damage$ variable = change_$hull_damage$_value }
			if = {
				limit = { is_variable_set = change_$hull_damage$_value }
				change_variable = { which = change_$hull_damage$_value value = @origin_value }
				set_ship_flag = has_$hull_damage$_change
				if = {
					limit = { is_variable_set = change_$hull_damage$_value has_ship_flag = has_$hull_damage$_change }
					set_invasion_fleet_basic_modifier = { SUB = change_basic_$hull_damage$ FACTOR = change_$hull_damage$_value }
					remove_ship_flag = has_$hull_damage$_change
				}
			}
		}
	}]
	[[weapon_damage] if = {
		limit = { 
			NOT = { is_variable_set = $weapon_damage$_value } 
			check_modifier_value = { modifier = $weapon_damage$ value > @mult_origin_value } 
		}
		export_modifier_to_variable = { modifier = $weapon_damage$ variable = $weapon_damage$_value }
		if = {
			limit = { is_variable_set = $weapon_damage$_value }
			change_variable = { which = $weapon_damage$_value value = @origin_value }
			set_ship_flag = has_$weapon_damage$
			if = {
				limit = { is_variable_set = $weapon_damage$_value has_ship_flag = has_$weapon_damage$ }
				set_invasion_fleet_basic_modifier = { SUB = basic_$weapon_damage$ FACTOR = $weapon_damage$_value }
				remove_ship_flag = has_$weapon_damage$
			}
		}
	}  else = { 
		if = {
			limit = { is_variable_set = change_$weapon_damage$_value }
			clear_variable = change_$weapon_damage$_value
		}
		if = {
			limit = { fleet = { has_enable_flag_ship_system_true = yes } }
			export_modifier_to_variable = { modifier = $weapon_damage$ variable = change_$weapon_damage$_value }
			if = {
				limit = { is_variable_set = change_$weapon_damage$_value }
				change_variable = { which = change_$weapon_damage$_value value = @fromfromfrom_scope_value }
				set_ship_flag = has_$weapon_damage$_change
				if = {
					limit = { is_variable_set = change_$weapon_damage$_value has_ship_flag = has_$weapon_damage$_change }
					set_invasion_fleet_basic_modifier = { SUB = change_basic_$weapon_damage$ FACTOR = change_$weapon_damage$_value }
					remove_ship_flag = has_$weapon_damage$_change
				}
			}
		}
		else_if = {
			limit = { fleet = { has_enable_flag_ship_system_true = no } }
			export_modifier_to_variable = { modifier = $weapon_damage$ variable = change_$weapon_damage$_value }
			if = {
				limit = { is_variable_set = change_$weapon_damage$_value }
				change_variable = { which = change_$weapon_damage$_value value = @origin_value }
				set_ship_flag = has_$weapon_damage$_change
				if = {
					limit = { is_variable_set = change_$weapon_damage$_value has_ship_flag = has_$weapon_damage$_change }
					set_invasion_fleet_basic_modifier = { SUB = change_basic_$weapon_damage$ FACTOR = change_$weapon_damage$_value }
					remove_ship_flag = has_$weapon_damage$_change
				}
			}
		}
	}]
	[[tracking] if = {
		limit = { 
			NOT = { is_variable_set = $tracking$_value } 
			check_modifier_value = { modifier = $tracking$ value > @mult_origin_value } 
		}
		export_modifier_to_variable = { modifier = $tracking$ variable = $tracking$_value }
		if = {
			limit = { is_variable_set = $tracking$_value }
			change_variable = { which = $tracking$_value value = @origin_value }
			set_ship_flag = has_$tracking$
			if = {
				limit = { is_variable_set = $tracking$_value has_ship_flag = has_$tracking$ }
				set_invasion_fleet_basic_modifier = { SUB = basic_$tracking$ FACTOR = $tracking$_value }
				remove_ship_flag = has_$tracking$
			}
		}
	} else = { 
		if = {
			limit = { is_variable_set = change_$tracking$_value }
			clear_variable = change_$tracking$_value
		}
		if = {
			limit = { fleet = { has_enable_flag_ship_system_true = yes } }
			export_modifier_to_variable = { modifier = $tracking$ variable = change_$tracking$_value }
			if = {
				limit = { is_variable_set = change_$tracking$_value }
				change_variable = { which = change_$tracking$_value value = @fromfromfrom_scope_weapon_value }
				set_ship_flag = has_$tracking$_change
				if = {
					limit = { is_variable_set = change_$tracking$_value has_ship_flag = has_$tracking$_change }
					set_invasion_fleet_basic_modifier = { SUB = change_basic_$tracking$ FACTOR = change_$tracking$_value }
					remove_ship_flag = has_$tracking$_change
				}
			}
		}
		else_if = {
			limit = { fleet = { has_enable_flag_ship_system_true = no } }
			export_modifier_to_variable = { modifier = $tracking$ variable = change_$tracking$_value }
			if = {
				limit = { is_variable_set = change_$tracking$_value }
				change_variable = { which = change_$tracking$_value value = @origin_value }
				set_ship_flag = has_$tracking$_change
				if = {
					limit = { is_variable_set = change_$tracking$_value has_ship_flag = has_$tracking$_change }
					set_invasion_fleet_basic_modifier = { SUB = change_basic_$tracking$ FACTOR = change_$tracking$_value }
					remove_ship_flag = has_$tracking$_change
				}
			}
		}
	}]
	##scope: fromfrom
	[[shield_penetration_own] if = {
		limit = { 
			NOT = { is_variable_set = $shield_penetration_own$_value } 
			check_modifier_value = { modifier = $shield_penetration_own$ value < @origin_value }
		}
		export_modifier_to_variable = { modifier = $shield_penetration_own$ variable = $shield_penetration_own$_value }
		if = {
			limit = { is_variable_set = $shield_penetration_own$_value }
			subtract_variable = { which = $shield_penetration_own$_value value = @origin_value }
			set_ship_flag = has_$shield_penetration_own$
			if = {
				limit = { is_variable_set = $shield_penetration_own$_value has_ship_flag = has_$shield_penetration_own$ }
				set_invasion_fleet_basic_modifier = { SUB = basic_$shield_penetration_own$ FACTOR = $shield_penetration_own$_value }
				remove_ship_flag = has_$shield_penetration_own$
			}
		}
	} else = {
		if = {
			limit = { is_variable_set = change_$shield_penetration_own$_value }
			clear_variable = change_$shield_penetration_own$_value
		}
		export_modifier_to_variable = { modifier = $shield_penetration_own$ variable = change_$shield_penetration_own$_value }
		if = {
			limit = { is_variable_set = change_$shield_penetration_own$_value }
			subtract_variable = { which = change_$shield_penetration_own$_value value = @origin_value }
			set_ship_flag = has_$shield_penetration_own$_changed
			if = {
				limit = { is_variable_set = change_$shield_penetration_own$_value has_ship_flag = has_$shield_penetration_own$_changed }
				set_invasion_fleet_basic_modifier = { SUB = change_basic_$shield_penetration_own$ FACTOR = change_$shield_penetration_own$_value }
				remove_ship_flag = has_$shield_penetration_own$_changed
			}
		}
	}]
	[[armor_penetration_own] if = {
		limit = { 
			NOT = { is_variable_set = $armor_penetration_own$_value } 
			check_modifier_value = { modifier = $armor_penetration_own$ value < @origin_value }
		}
		export_modifier_to_variable = { modifier = $armor_penetration_own$ variable = $armor_penetration_own$_value }
		if = {
			limit = { is_variable_set = $armor_penetration_own$_value }
			subtract_variable = { which = $armor_penetration_own$_value value = @origin_value }
			set_ship_flag = has_$armor_penetration_own$
			if = {
				limit = { is_variable_set = $armor_penetration_own$_value has_ship_flag = has_$armor_penetration_own$ }
				set_invasion_fleet_basic_modifier = { SUB = basic_$armor_penetration_own$ FACTOR = $armor_penetration_own$_value }
				remove_ship_flag = has_$armor_penetration_own$
			}
		}
	} else = {
		if = {
			limit = { is_variable_set = change_$armor_penetration_own$_value }
			clear_variable = change_$armor_penetration_own$_value
		}
		export_modifier_to_variable = { modifier = $armor_penetration_own$ variable = change_$armor_penetration_own$_value }
		if = {
			limit = { is_variable_set = change_$armor_penetration_own$_value }
			subtract_variable = { which = change_$armor_penetration_own$_value value = @origin_value }
			set_ship_flag = has_$armor_penetration_own$_changed
			if = {
				limit = { is_variable_set = change_$armor_penetration_own$_value has_ship_flag = has_$armor_penetration_own$_changed }
				set_invasion_fleet_basic_modifier = { SUB = change_basic_$armor_penetration_own$ FACTOR = change_$armor_penetration_own$_value }
				remove_ship_flag = has_$armor_penetration_own$_changed
			}
		}
	}]
	[[weapon_damage_own] if = {
		limit = { 
			NOT = { is_variable_set = $weapon_damage_own$_value } 
			check_modifier_value = { modifier = $weapon_damage_own$ value < @initial_value }
		}
		export_modifier_to_variable = { modifier = $weapon_damage_own$ variable = $weapon_damage_own$_value }
		if = {
			limit = { is_variable_set = $weapon_damage_own$_value }
			subtract_variable = { which = $weapon_damage_own$_value value = @origin_value }
			set_ship_flag = has_$weapon_damage_own$
			if = {
				limit = { is_variable_set = $weapon_damage_own$_value has_ship_flag = has_$weapon_damage_own$ }
				set_invasion_fleet_basic_modifier = { SUB = basic_$weapon_damage_own$ FACTOR = $weapon_damage_own$_value }
				remove_ship_flag = has_$weapon_damage_own$
			}
		}
	} else = {
		if = {
			limit = { is_variable_set = change_$weapon_damage_own$_value }
			clear_variable = change_$weapon_damage_own$_value
		}
		export_modifier_to_variable = { modifier = $weapon_damage_own$ variable = change_$weapon_damage_own$_value }
		if = {
			limit = { is_variable_set = change_$weapon_damage_own$_value }
			subtract_variable = { which = change_$weapon_damage_own$_value value = @origin_value }
			set_ship_flag = has_$weapon_damage_own$_changed
			if = {
				limit = { is_variable_set = change_$weapon_damage_own$_value has_ship_flag = has_$weapon_damage_own$_changed }
				set_invasion_fleet_basic_modifier = { SUB = change_basic_$weapon_damage_own$ FACTOR = change_$weapon_damage_own$_value }
				remove_ship_flag = has_$weapon_damage_own$_changed
			}
		}
	}]
	[[hull_regen_add_perc] if = {
		limit = { 
			NOT = { is_variable_set = $hull_regen_add_perc$_value } 
			check_modifier_value = { modifier = $hull_regen_add_perc$ value < @initial_value }
		}
		export_modifier_to_variable = { modifier = $hull_regen_add_perc$ variable = $hull_regen_add_perc$_value }
		if = {
			limit = { is_variable_set = $hull_regen_add_perc$_value }
			subtract_variable = { which = $hull_regen_add_perc$_value value = @origin_value }
			set_ship_flag = has_$hull_regen_add_perc$
			if = {
				limit = { is_variable_set = $hull_regen_add_perc$_value has_ship_flag = has_$hull_regen_add_perc$ }
				set_invasion_fleet_basic_modifier = { SUB = basic_$hull_regen_add_perc$ FACTOR = $hull_regen_add_perc$_value }
				remove_ship_flag = has_$hull_regen_add_perc$
			}
		}
	} else = {
		if = {
			limit = { is_variable_set = change_$hull_regen_add_perc$_value }
			clear_variable = change_$hull_regen_add_perc$_value
		}
		export_modifier_to_variable = { modifier = $hull_regen_add_perc$ variable = change_$hull_regen_add_perc$_value }
		if = {
			limit = { is_variable_set = change_$hull_regen_add_perc$_value }
			subtract_variable = { which = change_$hull_regen_add_perc$_value value = @origin_value }
			set_ship_flag = has_$hull_regen_add_perc$_changed
			if = {
				limit = { is_variable_set = change_$hull_regen_add_perc$_value has_ship_flag = has_$hull_regen_add_perc$_changed }
				set_invasion_fleet_basic_modifier = { SUB = change_basic_$hull_regen_add_perc$ FACTOR = change_$hull_regen_add_perc$_value }
				remove_ship_flag = has_$hull_regen_add_perc$_changed
			}
		}
	}]
	[[armor_regen_add_perc] if = {
		limit = { 
			NOT = { is_variable_set = $armor_regen_add_perc$_value } 
			check_modifier_value = { modifier = $armor_regen_add_perc$ value < @initial_value }
		}
		export_modifier_to_variable = { modifier = $armor_regen_add_perc$ variable = $armor_regen_add_perc$_value }
		if = {
			limit = { is_variable_set = $armor_regen_add_perc$_value }
			subtract_variable = { which = $armor_regen_add_perc$_value value = @origin_value }
			set_ship_flag = has_$armor_regen_add_perc$
			if = {
				limit = { is_variable_set = $armor_regen_add_perc$_value has_ship_flag = has_$armor_regen_add_perc$ }
				set_invasion_fleet_basic_modifier = { SUB = basic_$armor_regen_add_perc$ FACTOR = $armor_regen_add_perc$_value }
				remove_ship_flag = has_$armor_regen_add_perc$
			}
		}
	} else = {
		if = {
			limit = { is_variable_set = change_$armor_regen_add_perc$_value }
			clear_variable = change_$armor_regen_add_perc$_value
		}
		export_modifier_to_variable = { modifier = $armor_regen_add_perc$ variable = change_$armor_regen_add_perc$_value }
		if = {
			limit = { is_variable_set = change_$armor_regen_add_perc$_value }
			subtract_variable = { which = change_$armor_regen_add_perc$_value value = @origin_value }
			set_ship_flag = has_$armor_regen_add_perc$_changed
			if = {
				limit = { is_variable_set = change_$armor_regen_add_perc$_value has_ship_flag = has_$armor_regen_add_perc$_changed }
				set_invasion_fleet_basic_modifier = { SUB = change_basic_$armor_regen_add_perc$ FACTOR = change_$armor_regen_add_perc$_value }
				remove_ship_flag = has_$armor_regen_add_perc$_changed
			}
		}
	}]
	[[shield_regen_add_perc] if = {
		limit = { 
			NOT = { is_variable_set = $shield_regen_add_perc$_value } 
			check_modifier_value = { modifier = $shield_regen_add_perc$ value < @initial_value }
		}
		export_modifier_to_variable = { modifier = $shield_regen_add_perc$ variable = $shield_regen_add_perc$_value }
		if = {
			limit = { is_variable_set = $shield_regen_add_perc$_value }
			subtract_variable = { which = $shield_regen_add_perc$_value value = @origin_value }
			set_ship_flag = has_$shield_regen_add_perc$
			if = {
				limit = { is_variable_set = $shield_regen_add_perc$_value has_ship_flag = has_$shield_regen_add_perc$ }
				set_invasion_fleet_basic_modifier = { SUB = basic_$shield_regen_add_perc$ FACTOR = $shield_regen_add_perc$_value }
				remove_ship_flag = has_$shield_regen_add_perc$
			}
		}
	} else = {
		if = {
			limit = { is_variable_set = change_$shield_regen_add_perc$_value }
			clear_variable = change_$shield_regen_add_perc$_value
		}
		export_modifier_to_variable = { modifier = $shield_regen_add_perc$ variable = change_$shield_regen_add_perc$_value }
		if = {
			limit = { is_variable_set = change_$shield_regen_add_perc$_value }
			subtract_variable = { which = change_$shield_regen_add_perc$_value value = @origin_value }
			set_ship_flag = has_$shield_regen_add_perc$_changed
			if = {
				limit = { is_variable_set = change_$shield_regen_add_perc$_value has_ship_flag = has_$shield_regen_add_perc$_changed }
				set_invasion_fleet_basic_modifier = { SUB = change_basic_$shield_regen_add_perc$ FACTOR = change_$shield_regen_add_perc$_value }
				remove_ship_flag = has_$shield_regen_add_perc$_changed
			}
		}
	}]
	[[hull_mult] if = {
		limit = { 
			NOT = { is_variable_set = $hull_mult$_value } 
			check_modifier_value = { modifier = $hull_mult$ value < @initial_value }
		}
		export_modifier_to_variable = { modifier = $hull_mult$ variable = $hull_mult$_value }
		if = {
			limit = { is_variable_set = $hull_mult$_value }
			subtract_variable = { which = $hull_mult$_value value = @origin_value }
			set_ship_flag = has_$hull_mult$
			if = {
				limit = { is_variable_set = $hull_mult$_value has_ship_flag = has_$hull_mult$ }
				set_invasion_fleet_basic_modifier = { SUB = basic_$hull_mult$ FACTOR = $hull_mult$_value }
				remove_ship_flag = has_$hull_mult$
			}
		}
	} else = {
		if = {
			limit = { is_variable_set = change_$hull_mult$_value }
			clear_variable = change_$hull_mult$_value
		}
		export_modifier_to_variable = { modifier = $hull_mult$ variable = change_$hull_mult$_value }
		if = {
			limit = { is_variable_set = change_$hull_mult$_value }
			subtract_variable = { which = change_$hull_mult$_value value = @origin_value }
			set_ship_flag = has_$hull_mult$_changed
			if = {
				limit = { is_variable_set = change_$hull_mult$_value has_ship_flag = has_$hull_mult$_changed }
				set_invasion_fleet_basic_modifier = { SUB = change_basic_$hull_mult$ FACTOR = change_$hull_mult$_value }
				remove_ship_flag = has_$hull_mult$_changed
			}
		}
	}]
	[[armor_mult] if = {
		limit = { 
			NOT = { is_variable_set = $armor_mult$_value } 
			check_modifier_value = { modifier = $armor_mult$ value < @initial_value }
		}
		export_modifier_to_variable = { modifier = $armor_mult$ variable = $armor_mult$_value }
		if = {
			limit = { is_variable_set = $armor_mult$_value }
			subtract_variable = { which = $armor_mult$_value value = @origin_value }
			set_ship_flag = has_$armor_mult$
			if = {
				limit = { is_variable_set = $armor_mult$_value has_ship_flag = has_$armor_mult$ }
				set_invasion_fleet_basic_modifier = { SUB = basic_$armor_mult$ FACTOR = $armor_mult$_value }
				remove_ship_flag = has_$armor_mult$
			}
		}
	} else = {
		if = {
			limit = { is_variable_set = change_$armor_mult$_value }
			clear_variable = change_$armor_mult$_value
		}
		export_modifier_to_variable = { modifier = $armor_mult$ variable = change_$armor_mult$_value }
		if = {
			limit = { is_variable_set = change_$armor_mult$_value }
			subtract_variable = { which = change_$armor_mult$_value value = @origin_value }
			set_ship_flag = has_$armor_mult$_changed
			if = {
				limit = { is_variable_set = change_$armor_mult$_value has_ship_flag = has_$armor_mult$_changed }
				set_invasion_fleet_basic_modifier = { SUB = change_basic_$armor_mult$ FACTOR = change_$armor_mult$_value }
				remove_ship_flag = has_$armor_mult$_changed
			}
		}
	}]
	[[shield_mult] if = {
		limit = { 
			NOT = { is_variable_set = $shield_mult$_value } 
			check_modifier_value = { modifier = $shield_mult$ value < @initial_value }
		}
		export_modifier_to_variable = { modifier = $shield_mult$ variable = $shield_mult$_value }
		if = {
			limit = { is_variable_set = $shield_mult$_value }
			subtract_variable = { which = $shield_mult$_value value = @origin_value }
			set_ship_flag = has_$shield_mult$
			if = {
				limit = { is_variable_set = $shield_mult$_value has_ship_flag = has_$shield_mult$ }
				set_invasion_fleet_basic_modifier = { SUB = basic_$shield_mult$ FACTOR = $shield_mult$_value }
				remove_ship_flag = has_$shield_mult$
			}
		}
	} else = {
		if = {
			limit = { is_variable_set = change_$shield_mult$_value }
			clear_variable = change_$shield_mult$_value
		}
		export_modifier_to_variable = { modifier = $shield_mult$ variable = change_$shield_mult$_value }
		if = {
			limit = { is_variable_set = change_$shield_mult$_value }
			subtract_variable = { which = change_$shield_mult$_value value = @origin_value }
			set_ship_flag = has_$shield_mult$_changed
			if = {
				limit = { is_variable_set = change_$shield_mult$_value has_ship_flag = has_$shield_mult$_changed }
				set_invasion_fleet_basic_modifier = { SUB = change_basic_$shield_mult$ FACTOR = change_$shield_mult$_value }
				remove_ship_flag = has_$shield_mult$_changed
			}
		}
	}]
	[[weapon_range_mult] if = {
		limit = { 
			NOT = { is_variable_set = $weapon_range_mult$_value } 
			check_modifier_value = { modifier = $weapon_range_mult$ value < @initial_value }
		}
		export_modifier_to_variable = { modifier = $weapon_range_mult$ variable = $weapon_range_mult$_value }
		if = {
			limit = { is_variable_set = $weapon_range_mult$_value }
			subtract_variable = { which = $weapon_range_mult$_value value = @origin_value }
			set_ship_flag = has_$weapon_range_mult$
			if = {
				limit = { is_variable_set = $weapon_range_mult$_value has_ship_flag = has_$weapon_range_mult$ }
				set_invasion_fleet_basic_modifier = { SUB = basic_$weapon_range_mult$ FACTOR = $weapon_range_mult$_value }
				remove_ship_flag = has_$weapon_range_mult$
			}
		}
	} else = {
		if = {
			limit = { is_variable_set = change_$weapon_range_mult$_value }
			clear_variable = change_$weapon_range_mult$_value
		}
		export_modifier_to_variable = { modifier = $weapon_range_mult$ variable = change_$weapon_range_mult$_value }
		if = {
			limit = { is_variable_set = change_$weapon_range_mult$_value }
			subtract_variable = { which = change_$weapon_range_mult$_value value = @origin_value }
			set_ship_flag = has_$weapon_range_mult$_changed
			if = {
				limit = { is_variable_set = change_$weapon_range_mult$_value has_ship_flag = has_$weapon_range_mult$_changed }
				set_invasion_fleet_basic_modifier = { SUB = change_basic_$weapon_range_mult$ FACTOR = change_$weapon_range_mult$_value }
				remove_ship_flag = has_$weapon_range_mult$_changed
			}
		}
	}]
	[[fire_rate_mult] if = {
		limit = { 
			NOT = { is_variable_set = $fire_rate_mult$_value } 
			check_modifier_value = { modifier = $fire_rate_mult$ value < @initial_value }
		}
		export_modifier_to_variable = { modifier = $fire_rate_mult$ variable = $fire_rate_mult$_value }
		if = {
			limit = { is_variable_set = $fire_rate_mult$_value }
			subtract_variable = { which = $fire_rate_mult$_value value = @origin_value }
			set_ship_flag = has_$fire_rate_mult$
			if = {
				limit = { is_variable_set = $fire_rate_mult$_value has_ship_flag = has_$fire_rate_mult$ }
				set_invasion_fleet_basic_modifier = { SUB = basic_$fire_rate_mult$ FACTOR = $fire_rate_mult$_value }
				remove_ship_flag = has_$fire_rate_mult$
			}
		}
	} else = {
		if = {
			limit = { is_variable_set = change_$fire_rate_mult$_value }
			clear_variable = change_$fire_rate_mult$_value
		}
		export_modifier_to_variable = { modifier = $fire_rate_mult$ variable = change_$fire_rate_mult$_value }
		if = {
			limit = { is_variable_set = change_$fire_rate_mult$_value }
			subtract_variable = { which = change_$fire_rate_mult$_value value = @origin_value }
			set_ship_flag = has_$fire_rate_mult$_changed
			if = {
				limit = { is_variable_set = change_$fire_rate_mult$_value has_ship_flag = has_$fire_rate_mult$_changed }
				set_invasion_fleet_basic_modifier = { SUB = change_basic_$fire_rate_mult$ FACTOR = change_$fire_rate_mult$_value }
				remove_ship_flag = has_$fire_rate_mult$_changed
			}
		}
	}]
	[[tracking_own] if = {
		limit = { 
			NOT = { is_variable_set = $tracking_own$_value } 
			check_modifier_value = { modifier = $tracking_own$ value < @initial_value }
		}
		export_modifier_to_variable = { modifier = $tracking_own$ variable = $tracking_own$_value }
		if = {
			limit = { is_variable_set = $tracking_own$_value }
			subtract_variable = { which = $tracking_own$_value value = @origin_value }
			set_ship_flag = has_$tracking_own$
			if = {
				limit = { is_variable_set = $tracking_own$_value has_ship_flag = has_$tracking_own$ }
				set_invasion_fleet_basic_modifier = { SUB = basic_$tracking_own$ FACTOR = $tracking_own$_value }
				remove_ship_flag = has_$tracking_own$
			}
		}
	} else = {
		if = {
			limit = { is_variable_set = change_$tracking_own$_value }
			clear_variable = change_$tracking_own$_value
		}
		export_modifier_to_variable = { modifier = $tracking_own$ variable = change_$tracking_own$_value }
		if = {
			limit = { is_variable_set = change_$tracking_own$_value }
			subtract_variable = { which = change_$tracking_own$_value value = @origin_value }
			set_ship_flag = has_$tracking_own$_changed
			if = {
				limit = { is_variable_set = change_$tracking_own$_value has_ship_flag = has_$tracking_own$_changed }
				set_invasion_fleet_basic_modifier = { SUB = change_basic_$tracking_own$ FACTOR = change_$tracking_own$_value }
				remove_ship_flag = has_$tracking_own$_changed
			}
		}
	}]
	[[tracking_add_own] if = {
		limit = { 
			NOT = { is_variable_set = $tracking_add_own$_value } 
			check_modifier_value = { modifier = $tracking_add_own$ value < @add_tracking_value }
		}
		export_modifier_to_variable = { modifier = $tracking_add_own$ variable = $tracking_add_own$_value }
		if = {
			limit = { is_variable_set = $tracking_add_own$_value }
			subtract_variable = { which = $tracking_add_own$_value value = @add_tracking_value }
			set_ship_flag = has_$tracking_add_own$
			if = {
				limit = { is_variable_set = $tracking_add_own$_value has_ship_flag = has_$tracking_add_own$ }
				set_invasion_fleet_basic_modifier = { SUB = basic_$tracking_add_own$ FACTOR = $tracking_add_own$_value }
				remove_ship_flag = has_$tracking_add_own$
			}
		}
	} else = {
		if = {
			limit = { is_variable_set = change_$tracking_add_own$_value }
			clear_variable = change_$tracking_add_own$_value
		}
		export_modifier_to_variable = { modifier = $tracking_add_own$ variable = change_$tracking_add_own$_value }
		if = {
			limit = { is_variable_set = change_$tracking_add_own$_value }
			subtract_variable = { which = change_$tracking_add_own$_value value = @add_tracking_value }
			set_ship_flag = has_$tracking_add_own$_changed
			if = {
				limit = { is_variable_set = change_$tracking_add_own$_value has_ship_flag = has_$tracking_add_own$_changed }
				set_invasion_fleet_basic_modifier = { SUB = change_basic_$tracking_add_own$ FACTOR = change_$tracking_add_own$_value }
				remove_ship_flag = has_$tracking_add_own$_changed
			}
		}
	}]
	[[accuracy_own] if = {
		limit = { NOT = { is_variable_set = $accuracy_own$_value } }
		if = {
			limit = { check_modifier_value = { modifier = $accuracy_own$ value < @initial_value } }
			export_modifier_to_variable = { modifier = $accuracy_own$ variable = $accuracy_own$_value }
			if = {
				limit = { is_variable_set = $accuracy_own$_value }
				subtract_variable = { which = $accuracy_own$_value value = @origin_value }
				set_ship_flag = has_$accuracy_own$
				if = {
					limit = { is_variable_set = $accuracy_own$_value has_ship_flag = has_$accuracy_own$ }
					set_invasion_fleet_basic_modifier = { SUB = basic_$accuracy_own$ FACTOR = $accuracy_own$_value }
					remove_ship_flag = has_$accuracy_own$
				}
			}
		}
	} else = {
		if = {
			limit = { is_variable_set = change_$accuracy_own$_value }
			clear_variable = change_$accuracy_own$_value
		}
		export_modifier_to_variable = { modifier = $accuracy_own$ variable = change_$accuracy_own$_value }
		if = {
			limit = { is_variable_set = change_$accuracy_own$_value }
			subtract_variable = { which = change_$accuracy_own$_value value = @origin_value }
			set_ship_flag = has_$accuracy_own$_changed
			if = {
				limit = { is_variable_set = change_$accuracy_own$_value has_ship_flag = has_$accuracy_own$_changed }
				set_invasion_fleet_basic_modifier = { SUB = change_basic_$accuracy_own$ FACTOR = change_$accuracy_own$_value }
				remove_ship_flag = has_$accuracy_own$_changed
			}
		}
	}]
	####BASICAL
	[[weapon_type_energy] if = {
		limit = { 
			NOT = { is_variable_set = $weapon_type_energy$_value } 
			check_modifier_value = { modifier = $weapon_type_energy$ value < @initial_value }
		}
		export_modifier_to_variable = { modifier = $weapon_type_energy$ variable = $weapon_type_energy$_value }
		if = {
			limit = { is_variable_set = $weapon_type_energy$_value }
			subtract_variable = { which = $weapon_type_energy$_value value = @origin_value }
			set_ship_flag = has_$weapon_type_energy$
			if = {
				limit = { is_variable_set = $weapon_type_energy$_value has_ship_flag = has_$weapon_type_energy$ }
				set_invasion_fleet_basic_modifier = { SUB = basical_$weapon_type_energy$ FACTOR = $weapon_type_energy$_value }
				remove_ship_flag = has_$weapon_type_energy$
			}
		}
	} else = {
		if = {
			limit = { is_variable_set = change_$weapon_type_energy$_value }
			clear_variable = change_$weapon_type_energy$_value
		}
		export_modifier_to_variable = { modifier = $weapon_type_energy$ variable = change_$weapon_type_energy$_value }
		if = {
			limit = { is_variable_set = change_$weapon_type_energy$_value }
			subtract_variable = { which = change_$weapon_type_energy$_value value = @origin_value }
			set_ship_flag = has_$weapon_type_energy$_changed
			if = {
				limit = { is_variable_set = change_$weapon_type_energy$_value has_ship_flag = has_$weapon_type_energy$_changed }
				set_invasion_fleet_basic_modifier = { SUB = change_basical_$weapon_type_energy$ FACTOR = change_$weapon_type_energy$_value }
				remove_ship_flag = has_$weapon_type_energy$_changed
			}
		}
	}]
	[[weapon_type_kinetic] if = {
		limit = {
			NOT = { is_variable_set = $weapon_type_kinetic$_value } 
			check_modifier_value = { modifier = $weapon_type_kinetic$ value < @initial_value }
		}
		export_modifier_to_variable = { modifier = $weapon_type_kinetic$ variable = $weapon_type_kinetic$_value }
		if = {
			limit = { is_variable_set = $weapon_type_kinetic$_value }
			subtract_variable = { which = $weapon_type_kinetic$_value value = @origin_value }
			set_ship_flag = has_$weapon_type_kinetic$
			if = {
				limit = { is_variable_set = $weapon_type_kinetic$_value has_ship_flag = has_$weapon_type_kinetic$ }
				set_invasion_fleet_basic_modifier = { SUB = basical_$weapon_type_kinetic$ FACTOR = $weapon_type_kinetic$_value }
				remove_ship_flag = has_$weapon_type_kinetic$
			}
		}
	} else = {
		if = {
			limit = { is_variable_set = change_$weapon_type_kinetic$_value }
			clear_variable = change_$weapon_type_kinetic$_value
		}
		export_modifier_to_variable = { modifier = $weapon_type_kinetic$ variable = change_$weapon_type_kinetic$_value }
		if = {
			limit = { is_variable_set = change_$weapon_type_kinetic$_value }
			subtract_variable = { which = change_$weapon_type_kinetic$_value value = @origin_value }
			set_ship_flag = has_$weapon_type_kinetic$_changed
			if = {
				limit = { is_variable_set = change_$weapon_type_kinetic$_value has_ship_flag = has_$weapon_type_kinetic$_changed }
				set_invasion_fleet_basic_modifier = { SUB = change_basical_$weapon_type_kinetic$ FACTOR = change_$weapon_type_kinetic$_value }
				remove_ship_flag = has_$weapon_type_kinetic$_changed
			}
		}
	}]
	[[weapon_type_explosive] if = {
		limit = { 
			NOT = { is_variable_set = $weapon_type_explosive$_value } 
			check_modifier_value = { modifier = $weapon_type_explosive$ value < @initial_value }
		}
		export_modifier_to_variable = { modifier = $weapon_type_explosive$ variable = $weapon_type_explosive$_value }
		if = {
			limit = { is_variable_set = $weapon_type_explosive$_value }
			subtract_variable = { which = $weapon_type_explosive$_value value = @origin_value }
			set_ship_flag = has_$weapon_type_explosive$
			if = {
				limit = { is_variable_set = $weapon_type_explosive$_value has_ship_flag = has_$weapon_type_explosive$ }
				set_invasion_fleet_basic_modifier = { SUB = basical_$weapon_type_explosive$ FACTOR = $weapon_type_explosive$_value }
				remove_ship_flag = has_$weapon_type_explosive$
			}
		}
	} else = {
		if = {
			limit = { is_variable_set = change_$weapon_type_explosive$_value }
			clear_variable = change_$weapon_type_explosive$_value
		}
		export_modifier_to_variable = { modifier = $weapon_type_explosive$ variable = change_$weapon_type_explosive$_value }
		if = {
			limit = { is_variable_set = change_$weapon_type_explosive$_value }
			subtract_variable = { which = change_$weapon_type_explosive$_value value = @origin_value }
			set_ship_flag = has_$weapon_type_explosive$_changed
			if = {
				limit = { is_variable_set = change_$weapon_type_explosive$_value has_ship_flag = has_$weapon_type_explosive$_changed }
				set_invasion_fleet_basic_modifier = { SUB = change_basical_$weapon_type_explosive$ FACTOR = change_$weapon_type_explosive$_value }
				remove_ship_flag = has_$weapon_type_explosive$_changed
			}
		}
	}]
}

remove_eternal_fleet_mult_variable = {
	[[shield_penetration] clear_variable = $shield_penetration$_value clear_variable = change_$shield_penetration$_value ]
	[[armor_penetration] clear_variable = $armor_penetration$_value clear_variable = change_$armor_penetration$_value ]
	[[armor_damage] clear_variable = $armor_damage$_value clear_variable = change_$armor_damage$_value ]
	[[shield_damage] clear_variable = $shield_damage$_value clear_variable = change_$shield_damage$_value ]
	[[hull_damage] clear_variable = $hull_damage$_value clear_variable = change_$hull_damage$_value ]
	[[weapon_damage] clear_variable = $weapon_damage$_value clear_variable = change_$weapon_damage$_value ]
	[[tracking] clear_variable = $tracking$_value clear_variable = change_$tracking$_value ]
	[[hull_regen_add_perc] clear_variable = $hull_regen_add_perc$_value clear_variable = change_$hull_regen_add_perc$_value ]
	[[armor_regen_add_perc] clear_variable = $armor_regen_add_perc$_value clear_variable = change_$armor_regen_add_perc$_value ]
	[[shield_regen_add_perc] clear_variable = $shield_regen_add_perc$_value clear_variable = change_$shield_regen_add_perc$_value ]
	[[hull_mult] clear_variable = $hull_mult$_value clear_variable = change_$hull_mult$_value ]
	[[armor_mult] clear_variable = $armor_mult$_value clear_variable = change_$armor_mult$_value ]
	[[shield_mult] clear_variable = $shield_mult$_value clear_variable = change_$shield_mult$_value ]
	[[weapon_range_mult] clear_variable = $weapon_range_mult$_value clear_variable = change_$weapon_range_mult$_value ]
	[[shield_penetration_own] clear_variable = $shield_penetration_own$_value clear_variable = change_$shield_penetration_own$_value ]
	[[armor_penetration_own] clear_variable = $armor_penetration_own$_value clear_variable = change_$armor_penetration_own$_value ]
	[[weapon_damage_own] clear_variable = $weapon_damage_own$_value clear_variable = change_$weapon_damage_own$_value ]
	[[weapon_type_energy] clear_variable = $weapon_type_energy$_value clear_variable = change_$weapon_type_energy$_value ]
	[[weapon_type_explosive] clear_variable = $weapon_type_explosive$_value clear_variable = change_$weapon_type_explosive$_value ]
	[[weapon_type_kinetic] clear_variable = $weapon_type_kinetic$_value clear_variable = change_$weapon_type_kinetic$_value ]
	[[fire_rate_mult] clear_variable = $fire_rate_mult$_value clear_variable = change_$fire_rate_mult$_value ]
	[[tracking_own] clear_variable = $tracking_own$_value clear_variable = change_$tracking_own$_value ]
	[[accuracy_own] clear_variable = $accuracy_own$_value clear_variable = change_$accuracy_own$_value ]
	[[tracking_add_own] clear_variable = $tracking_add_own$_value clear_variable = change_$tracking_add_own$_value ]
}

set_fleet_modifier = {
	add_modifier = { modifier = $SUB$ days = $DAYS|-1$ }
	set_timed_fleet_flag = { flag = has_$SUB$ days = $DAYS|-1$ }
}

set_invasion_fleet_basic_modifier = { 
	add_modifier = { modifier = $SUB$ multiplier = $FACTOR$ days = $DAYS|-1$ } 
}

clear_battleship_modifier_fixed_ship = {
	remove_modifier = basic_ship_shield_penetration_mult 
	remove_modifier = basic_ship_armor_penetration_mult
	remove_modifier = basic_ship_armor_damage_mult
	remove_modifier = basic_ship_shield_damage_mult
	remove_modifier = basic_ship_hull_damage_mult
	remove_modifier = basic_ship_tracking_mult
	remove_modifier = basic_ship_tracking_add
	remove_modifier = basic_ship_weapon_damage
	remove_modifier = basic_ship_hull_regen_add_perc
	remove_modifier = basic_ship_armor_regen_add_perc
	remove_modifier = basic_ship_shield_regen_add_perc
	remove_modifier = basic_ship_hull_mult
	remove_modifier = basic_ship_armor_mult
	remove_modifier = basic_ship_shield_mult
	remove_modifier = basic_ship_accuracy_mult
	remove_modifier = basic_ship_weapon_range_mult
	remove_modifier = basical_weapon_type_energy_weapon_damage_mult
	remove_modifier = basical_weapon_type_explosive_weapon_damage_mult
	remove_modifier = basical_weapon_type_kinetic_weapon_damage_mult
	remove_modifier = basic_ship_fire_rate_mult
	remove_modifier = change_basic_ship_accuracy_mult
	remove_modifier = change_basic_ship_shield_penetration_mult 
	remove_modifier = change_basic_ship_armor_penetration_mult
	remove_modifier = change_basic_ship_armor_damage_mult
	remove_modifier = change_basic_ship_shield_damage_mult
	remove_modifier = change_basic_ship_hull_damage_mult
	remove_modifier = change_basic_ship_tracking_mult
	remove_modifier = change_basic_ship_tracking_add
	remove_modifier = change_basic_ship_weapon_damage
	remove_modifier = change_basic_ship_hull_regen_add_perc
	remove_modifier = change_basic_ship_armor_regen_add_perc
	remove_modifier = change_basic_ship_shield_regen_add_perc
	remove_modifier = change_basic_ship_hull_mult
	remove_modifier = change_basic_ship_armor_mult
	remove_modifier = change_basic_ship_shield_mult
	remove_modifier = change_basic_ship_weapon_range_mult
	remove_modifier = change_basical_weapon_type_energy_weapon_damage_mult
	remove_modifier = change_basical_weapon_type_explosive_weapon_damage_mult
	remove_modifier = change_basical_weapon_type_kinetic_weapon_damage_mult
	remove_modifier = change_basic_ship_fire_rate_mult
	remove_eternal_fleet_mult_variable = {
		hull_regen_add_perc = ship_hull_regen_add_perc 
		shield_regen_add_perc = ship_shield_regen_add_perc 
		armor_regen_add_perc = ship_armor_regen_add_perc 
		hull_mult = ship_hull_mult
		armor_mult = ship_armor_mult
		shield_mult = ship_shield_mult
		weapon_range_mult = ship_weapon_range_mult
		shield_penetration = ship_shield_penetration_mult 
		shield_penetration_own = ship_shield_penetration_mult
		armor_penetration = ship_armor_penetration_mult
		armor_penetration_own = ship_armor_penetration_mult
		armor_damage = ship_armor_damage_mult
		shield_damage = ship_shield_damage_mult
		hull_damage = ship_hull_damage_mult
		weapon_damage = ship_weapon_damage
		weapon_damage_own = ship_weapon_damage
		tracking = ship_tracking_mult
		weapon_type_energy = weapon_type_energy_weapon_damage_mult
		weapon_type_kinetic = weapon_type_kinetic_weapon_damage_mult
		weapon_type_explosive = weapon_type_explosive_weapon_damage_mult 
		fire_rate_mult = ship_fire_rate_mult
		tracking_own = ship_tracking_mult
		tracking_add_own = ship_tracking_add
		accuracy_own = ship_accuracy_mult
	}
}