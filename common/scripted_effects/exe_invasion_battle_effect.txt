# scope: ship
eternal_increase_executor_power = {
	if = {
		limit = { NOT = { has_ship_flag = has_eternal_increase_executor_power } }
		if = {
			limit = { has_hp <= 20000000 }
			clear_ship_modifier = { modifier = ship_hull_mult DAYS = $DAYS$ subtract = 1 }
			clear_ship_modifier = { modifier = shipclass_military_hull_mult DAYS = $DAYS$ subtract = 1 }
			clear_ship_modifier = { modifier = ship_hull_regen_add_perc DAYS = $DAYS$ subtract = 1 }
			add_modifier = { modifier = increase_hp_5000000_times days = $DAYS$ }
		}
		else_if = {
			limit = { has_hp <= 40000000 }
			clear_ship_modifier = { modifier = ship_hull_mult DAYS = $DAYS$ subtract = 1 }
			clear_ship_modifier = { modifier = shipclass_military_hull_mult DAYS = $DAYS$ subtract = 1 }
			clear_ship_modifier = { modifier = ship_hull_regen_add_perc DAYS = $DAYS$ subtract = 1 }
			add_modifier = { modifier = increase_hp_4000000_times days = $DAYS$ }
		}
		else_if = {
			limit = { has_hp <= 60000000 }
			clear_ship_modifier = { modifier = ship_hull_mult DAYS = $DAYS$ subtract = 1 }
			clear_ship_modifier = { modifier = shipclass_military_hull_mult DAYS = $DAYS$ subtract = 1 }
			clear_ship_modifier = { modifier = ship_hull_regen_add_perc DAYS = $DAYS$ subtract = 1 }
			add_modifier = { modifier = increase_hp_3000000_times days = $DAYS$ }
		}
		else_if = {
			limit = { has_hp <= 80000000 }
			clear_ship_modifier = { modifier = ship_hull_mult DAYS = $DAYS$ subtract = 1 }
			clear_ship_modifier = { modifier = shipclass_military_hull_mult DAYS = $DAYS$ subtract = 1 }
			clear_ship_modifier = { modifier = ship_hull_regen_add_perc DAYS = $DAYS$ subtract = 1 }
			add_modifier = { modifier = increase_hp_2000000_times days = $DAYS$ }
		}
		else_if = {
			limit = { has_hp <= 100000000 }
			clear_ship_modifier = { modifier = ship_hull_mult DAYS = $DAYS$ subtract = 1 }
			clear_ship_modifier = { modifier = shipclass_military_hull_mult DAYS = $DAYS$ subtract = 1 }
			clear_ship_modifier = { modifier = ship_hull_regen_add_perc DAYS = $DAYS$ subtract = 1 }
			add_modifier = { modifier = increase_hp_1000000_times days = $DAYS$ }
		}
		set_timed_ship_flag = { flag = has_eternal_increase_executor_power days = $DAYS$ }
	}
}

increase_ship_hp_effect_change = {
	optimize_memory
	every_controlled_ship = {
		set_timed_ship_flag = { flag = is_invisiable_trigger days = $DAYS$ }
		eternal_increase_executor_power = { DAYS = $DAYS$ }
		ship_event = { id = exe_invasion.119 }
	}
	set_fleet_modifier = { SUB = Eternal_submit DAYS = $DAYS$ }
}

clear_ship_modifier = {
	export_modifier_to_variable = { modifier = $modifier$ variable = $modifier$_value_iep }
	[[subtract] subtract_variable = { which = $modifier$_value_iep value = $subtract$ }]
	[[change] change_variable = { which = $modifier$_value_iep value = $change$ }]
	[[divide] divide_variable = { which = $modifier$_value_iep value = $divide$ }]
	[[multiply] multiply_variable = { which = $modifier$_value_iep value = $multiply$ }]
	add_modifier = { modifier = iep_basic_$modifier$ multiplier = $modifier$_value_iep days = $DAYS$ } 
	clear_variable = $modifier$_value_iep
}

clear_ship_repeatable_modifier = {
	clear_repeatable_modifier = { TYPE = explosive	 				multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = kinetic  	 				multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = energy 	 				multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = gravity 	 				multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = psionic 	 				multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = anti_psionic 				multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = ancient_primary 			multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = titan_primary 				multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = titan_secondary 			multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = zeta_crisis_primary 		multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = zeta_crisis_primary_alt 	multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = zeta_crisis_secondary 		multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = SRA_SRA 					multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = SRA_RE_Core 				multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = H.D.energy 				multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = HD.M.kinetic 				multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = PrimaMateria 				multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = magicia 					multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = rulerule 					multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = fake_madoka 				multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = arcane				 		multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = cosmic 					multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = light_power 				multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = wsg_pantsu 				multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = tesla 						multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = sr_uf 						multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = gungnir 					multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = xianzhe 					multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = knife 						multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = lingli 					multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = magic 						multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = nytowith 					multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = light						multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = keto 						multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = Akso 						multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = LsScepter 					multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = son 						multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = prism 						multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = Electronic 				multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = beacon 					multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = aoe 						multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = kancolle 					multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = kancolle_shinkai 			multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = aon_rpg_attack 			multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = aon_rpg_magic 				multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = sfdoll 					multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = nano 						multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = KZ_VOY_magic 				multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = KZ_VOY_wind_magic 			multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = KZ_VOY_time_magic 			multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = KZ_VOY_earth_magic 		multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = KZ_VOY_pyromancy_magic 	multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = KZ_VOY_lightning_magic 	multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = KZ_VOY_bright_magic 		multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = KZ_VOY_dark_magic 			multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = KZ_VOY_space_magic 		multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = KZ_VOY_aqua_magic 			multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = KZ_VOY_life_magic 			multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = KZ_VOY_temporal 			multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = ge_void_energy 			multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = magi 						multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = charm 						multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = mystical 					multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = close_combat 				multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = critical 					multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = fgosw_block 				multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = fgosw_battle_continuation 	multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = fgosw_only_one 			multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = fgosw_multi_level 			multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = fgosw_skill_saber 			multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = fgosw_skill_archer 		multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = fgosw_skill_lancer 		multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = fgosw_skill_rider			multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = fgosw_skill_caster 		multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = fgosw_skill_assassin 		multiply = $multiply$ DAYS = $DAYS$ }
	clear_repeatable_modifier = { TYPE = fgosw_skill_berserker 		multiply = $multiply$ DAYS = $DAYS$ }
}

remove_executor_power = {
	optimize_memory
	remove_ship_flag = has_eternal_increase_executor_power
	remove_modifier = iep_basic_ship_shield_penetration_mult
	remove_modifier = iep_basic_ship_armor_penetration_mult			
	remove_modifier = iep_basic_ship_armor_damage_mult				
	remove_modifier = iep_basic_ship_shield_damage_mult				
	remove_modifier = iep_basic_ship_hull_damage_mult				
	remove_modifier = iep_basic_ship_tracking_mult					
	remove_modifier = iep_basic_ship_weapon_damage						
	remove_modifier = iep_basic_ship_hull_regen_add_perc			
	remove_modifier = iep_basic_ship_armor_regen_add_perc			
	remove_modifier = iep_basic_ship_shield_regen_add_perc				
	remove_modifier = iep_basic_ship_hull_mult		
	remove_modifier = iep_basic_ship_armor_mult						
	remove_modifier = iep_basic_ship_shield_mult			
	remove_modifier = iep_basic_ship_shield_reduction	
	remove_modifier = iep_basic_ship_armor_reduction	
	remove_modifier = iep_basic_ship_accuracy_mult							
	remove_modifier = iep_basic_ship_weapon_range_mult						
	remove_modifier = iep_basic_ship_fire_rate_mult							
	remove_modifier = iep_basic_ship_tracking_add							
	remove_modifier = iep_basic_ship_accuracy_add							
	remove_modifier = iep_basic_ship_armor_add								
	remove_modifier = iep_basic_ship_shield_add
	remove_modifier = iep_basic_shipclass_military_hull_mult
	remove_modifier = increase_hp_5000000_times
	remove_modifier = increase_hp_4000000_times
	remove_modifier = increase_hp_3000000_times
	remove_modifier = increase_hp_2000000_times
	remove_modifier = increase_hp_1000000_times
	remove_repetable_modifier = { TITLE = iep_basic TYPE = explosive }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = kinetic }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = energy }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = gravity }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = psionic }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = anti_psionic }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = ancient_primary }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = titan_primary }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = titan_secondary }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = zeta_crisis_primary }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = zeta_crisis_primary_alt }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = zeta_crisis_secondary }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = SRA_SRA }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = SRA_RE_Core }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = H.D.energy }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = HD.M.kinetic }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = PrimaMateria }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = magicia }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = rulerule }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = fake_madoka }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = arcane }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = cosmic }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = light_power }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = wsg_pantsu }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = tesla }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = sr_uf }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = gungnir }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = xianzhe }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = knife }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = lingli }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = magic }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = nytowith }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = light }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = keto }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = Akso }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = LsScepter }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = son }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = prism }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = Electronic }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = beacon }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = aoe }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = kancolle }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = kancolle_shinkai }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = aon_rpg_attack }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = aon_rpg_magic }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = sfdoll }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = nano }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = KZ_VOY_magic }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = KZ_VOY_wind_magic }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = KZ_VOY_time_magic }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = KZ_VOY_earth_magic }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = KZ_VOY_pyromancy_magic }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = KZ_VOY_lightning_magic }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = KZ_VOY_bright_magic }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = KZ_VOY_dark_magic }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = KZ_VOY_space_magic }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = KZ_VOY_aqua_magic }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = KZ_VOY_life_magic }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = KZ_VOY_temporal }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = ge_void_energy }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = magi }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = charm }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = mystical }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = close_combat }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = critical }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = fgosw_block }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = fgosw_battle_continuation }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = fgosw_only_one }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = fgosw_multi_level }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = fgosw_skill_saber }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = fgosw_skill_archer }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = fgosw_skill_lancer }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = fgosw_skill_rider }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = fgosw_skill_caster }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = fgosw_skill_assassin }
	remove_repetable_modifier = { TITLE = iep_basic TYPE = fgosw_skill_berserker }
}

clear_repeatable_modifier = {
	clear_ship_modifier = { modifier = weapon_type_$TYPE$_weapon_damage_mult multiply = $multiply$ DAYS = $DAYS$ }
	clear_ship_modifier = { modifier = weapon_type_$TYPE$_fire_rate_mult multiply = $multiply$ DAYS = $DAYS$ }
}

remove_repetable_modifier = {
	remove_modifier = $TITLE$_weapon_type_$TYPE$_weapon_damage_mult
	remove_modifier = $TITLE$_weapon_type_$TYPE$_weapon_fire_rate_mult
}

# initial = 0  min = 0.25  small = 0.5  medium = 0.75  max = 0.99  origin = 1
# double = 2  fifth = 5  Tenth = 10  one_of_fourth = 25  one_of_double = 50  hundred = 100  million = 1000000  dmillion = 2000000
random_list_eternal_fleet_rate = {
	optimize_memory
	set_repeatable_eternal_fleet_mult_rate_to_damage = { TYPE = explosive }
	set_repeatable_eternal_fleet_mult_rate_to_damage = { TYPE = kinetic }
	set_repeatable_eternal_fleet_mult_rate_to_damage = { TYPE = energy }
	set_repeatable_eternal_fleet_mult_rate_to_damage = { TYPE = arcane }
	set_repeatable_eternal_fleet_mult_rate_to_damage = { TYPE = cosmic }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = gravity }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = psionic }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = anti_psionic }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = ancient_primary }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = titan_primary }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = titan_secondary }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = zeta_crisis_primary }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = zeta_crisis_primary_alt }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = zeta_crisis_secondary }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = SRA_SRA }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = SRA_RE_Core }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = H.D.energy }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = HD.M.kinetic }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = PrimaMateria }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = light_power }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = wsg_pantsu }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = tesla }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = kancolle }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = kancolle_shinkai }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = magicia }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = rulerule }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = fake_madoka }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = sr_uf }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = gungnir }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = xianzhe }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = knife }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = lingli }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = magic }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = nytowith }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = light }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = keto }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = Akso }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = LsScepter }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = son }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = prism }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = Electronic }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = beacon }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = aoe }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = aon_rpg_attack }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = aon_rpg_magic }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = sfdoll }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = nano }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = KZ_VOY_magic }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = KZ_VOY_wind_magic }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = KZ_VOY_time_magic }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = KZ_VOY_earth_magic }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = KZ_VOY_pyromancy_magic }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = KZ_VOY_lightning_magic }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = KZ_VOY_bright_magic }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = KZ_VOY_dark_magic }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = KZ_VOY_space_magic }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = KZ_VOY_aqua_magic }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = KZ_VOY_life_magic }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = KZ_VOY_temporal }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = ge_void_energy }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = magi }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = charm }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = mystical }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = close_combat }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = critical }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = fgosw_block }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = fgosw_battle_continuation }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = fgosw_only_one }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = fgosw_multi_level }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = fgosw_skill_saber }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = fgosw_skill_archer }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = fgosw_skill_lancer }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = fgosw_skill_rider }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = fgosw_skill_caster }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = fgosw_skill_assassin }
	set_repeatable_eternal_fleet_mult_damage_to_rate = { TYPE = fgosw_skill_berserker }
}
set_repeatable_eternal_fleet_mult_rate_to_damage = {
	if = {
		limit = { check_modifier_value = { modifier = weapon_type_$TYPE$_weapon_fire_rate_mult value > 200 } }
		set_standard_battle_repeatable_modifier = { PARAMATER1 = weapon_type_$TYPE$_weapon_fire_rate_mult PARAMATER2 = weapon_type_$TYPE$_weapon_damage_mult UNIT = Tenth RATE = -0.01 } 
	}
	if = {
		limit = { check_modifier_value = { modifier = weapon_type_$TYPE$_weapon_fire_rate_mult value > 100 } }
		set_standard_battle_repeatable_modifier = { PARAMATER1 = weapon_type_$TYPE$_weapon_fire_rate_mult PARAMATER2 = weapon_type_$TYPE$_weapon_damage_mult UNIT = Tenth RATE = -0.02 } 
	}
	else_if = {
		limit = { check_modifier_value = { modifier = weapon_type_$TYPE$_weapon_fire_rate_mult value > 90 } }
		set_standard_battle_repeatable_modifier = { PARAMATER1 = weapon_type_$TYPE$_weapon_fire_rate_mult PARAMATER2 = weapon_type_$TYPE$_weapon_damage_mult UNIT = Tenth RATE = -0.05 } 
	}
	else_if = {
		limit = { check_modifier_value = { modifier = weapon_type_$TYPE$_weapon_fire_rate_mult value > 80 } }
		set_standard_battle_repeatable_modifier = { PARAMATER1 = weapon_type_$TYPE$_weapon_fire_rate_mult PARAMATER2 = weapon_type_$TYPE$_weapon_damage_mult UNIT = Tenth RATE = -0.10 } 
	}
	else_if = {
		limit = { check_modifier_value = { modifier = weapon_type_$TYPE$_weapon_fire_rate_mult value > 70 } }
		set_standard_battle_repeatable_modifier = { PARAMATER1 = weapon_type_$TYPE$_weapon_fire_rate_mult PARAMATER2 = weapon_type_$TYPE$_weapon_damage_mult UNIT = Tenth RATE = -0.15 } 
	}
	else_if = {
		limit = { check_modifier_value = { modifier = weapon_type_$TYPE$_weapon_fire_rate_mult value > 60 } }
		set_standard_battle_repeatable_modifier = { PARAMATER1 = weapon_type_$TYPE$_weapon_fire_rate_mult PARAMATER2 = weapon_type_$TYPE$_weapon_damage_mult UNIT = Tenth RATE = -0.20 } 
	}
	else_if = {
		limit = { check_modifier_value = { modifier = weapon_type_$TYPE$_weapon_fire_rate_mult value > 50 } }
		set_standard_battle_repeatable_modifier = { PARAMATER1 = weapon_type_$TYPE$_weapon_fire_rate_mult PARAMATER2 = weapon_type_$TYPE$_weapon_damage_mult UNIT = Tenth RATE = -0.25 } 
	}
	else_if = {
		limit = { check_modifier_value = { modifier = weapon_type_$TYPE$_weapon_fire_rate_mult value > 40 } }
		set_standard_battle_repeatable_modifier = { PARAMATER1 = weapon_type_$TYPE$_weapon_fire_rate_mult PARAMATER2 = weapon_type_$TYPE$_weapon_damage_mult UNIT = Tenth RATE = -0.30 } 
	}
	else_if = {
		limit = { check_modifier_value = { modifier = weapon_type_$TYPE$_weapon_fire_rate_mult value > 30 } }
		set_standard_battle_repeatable_modifier = { PARAMATER1 = weapon_type_$TYPE$_weapon_fire_rate_mult PARAMATER2 = weapon_type_$TYPE$_weapon_damage_mult UNIT = Tenth RATE = -0.35 } 
	}
	else_if = {
		limit = { check_modifier_value = { modifier = weapon_type_$TYPE$_weapon_fire_rate_mult value > 20 } }
		set_standard_battle_repeatable_modifier = { PARAMATER1 = weapon_type_$TYPE$_weapon_fire_rate_mult PARAMATER2 = weapon_type_$TYPE$_weapon_damage_mult UNIT = Tenth RATE = -0.40 } 
	}
	else_if = {
		limit = { check_modifier_value = { modifier = weapon_type_$TYPE$_weapon_fire_rate_mult value > 10 } }
		set_standard_battle_repeatable_modifier = { PARAMATER1 = weapon_type_$TYPE$_weapon_fire_rate_mult PARAMATER2 = weapon_type_$TYPE$_weapon_damage_mult UNIT = Tenth RATE = -0.45 } 
	}
	else = { no_events = yes }
}
set_repeatable_eternal_fleet_mult_damage_to_rate = {
	if = {
		limit = { check_modifier_value = { modifier = weapon_type_$TYPE$_weapon_damage_mult value > 200 } }
		set_standard_battle_repeatable_modifier = { PARAMATER1 = weapon_type_$TYPE$_weapon_damage_mult PARAMATER2 = weapon_type_$TYPE$_weapon_fire_rate_mult UNIT = Tenth RATE = -0.01 } 
	}
	else_if = {
		limit = { check_modifier_value = { modifier = weapon_type_$TYPE$_weapon_damage_mult value > 100 } }
		set_standard_battle_repeatable_modifier = { PARAMATER1 = weapon_type_$TYPE$_weapon_damage_mult PARAMATER2 = weapon_type_$TYPE$_weapon_fire_rate_mult UNIT = Tenth RATE = -0.02 } 
	}
	else_if = {
		limit = { check_modifier_value = { modifier = weapon_type_$TYPE$_weapon_damage_mult value > 90 } }
		set_standard_battle_repeatable_modifier = { PARAMATER1 = weapon_type_$TYPE$_weapon_damage_mult PARAMATER2 = weapon_type_$TYPE$_weapon_fire_rate_mult UNIT = Tenth RATE = -0.05 } 
	}
	else_if = {
		limit = { check_modifier_value = { modifier = weapon_type_$TYPE$_weapon_damage_mult value > 80 } }
		set_standard_battle_repeatable_modifier = { PARAMATER1 = weapon_type_$TYPE$_weapon_damage_mult PARAMATER2 = weapon_type_$TYPE$_weapon_fire_rate_mult UNIT = Tenth RATE = -0.10 } 
	}
	else_if = {
		limit = { check_modifier_value = { modifier = weapon_type_$TYPE$_weapon_damage_mult value > 70 } }
		set_standard_battle_repeatable_modifier = { PARAMATER1 = weapon_type_$TYPE$_weapon_damage_mult PARAMATER2 = weapon_type_$TYPE$_weapon_fire_rate_mult UNIT = Tenth RATE = -0.15 } 
	}
	else_if = {
		limit = { check_modifier_value = { modifier = weapon_type_$TYPE$_weapon_damage_mult value > 60 } }
		set_standard_battle_repeatable_modifier = { PARAMATER1 = weapon_type_$TYPE$_weapon_damage_mult PARAMATER2 = weapon_type_$TYPE$_weapon_fire_rate_mult UNIT = Tenth RATE = -0.20 } 
	}
	else_if = {
		limit = { check_modifier_value = { modifier = weapon_type_$TYPE$_weapon_damage_mult value > 50 } }
		set_standard_battle_repeatable_modifier = { PARAMATER1 = weapon_type_$TYPE$_weapon_damage_mult PARAMATER2 = weapon_type_$TYPE$_weapon_fire_rate_mult UNIT = Tenth RATE = -0.25 } 
	}
	else_if = {
		limit = { check_modifier_value = { modifier = weapon_type_$TYPE$_weapon_damage_mult value > 40 } }
		set_standard_battle_repeatable_modifier = { PARAMATER1 = weapon_type_$TYPE$_weapon_damage_mult PARAMATER2 = weapon_type_$TYPE$_weapon_fire_rate_mult UNIT = Tenth RATE = -0.30 } 
	}
	else_if = {
		limit = { check_modifier_value = { modifier = weapon_type_$TYPE$_weapon_damage_mult value > 30 } }
		set_standard_battle_repeatable_modifier = { PARAMATER1 = weapon_type_$TYPE$_weapon_damage_mult PARAMATER2 = weapon_type_$TYPE$_weapon_fire_rate_mult UNIT = Tenth RATE = -0.35 } 
	}
	else_if = {
		limit = { check_modifier_value = { modifier = weapon_type_$TYPE$_weapon_damage_mult value > 20 } }
		set_standard_battle_repeatable_modifier = { PARAMATER1 = weapon_type_$TYPE$_weapon_damage_mult PARAMATER2 = weapon_type_$TYPE$_weapon_fire_rate_mult UNIT = Tenth RATE = -0.40 } 
	}
	else_if = {
		limit = { check_modifier_value = { modifier = weapon_type_$TYPE$_weapon_damage_mult value > 10 } }
		set_standard_battle_repeatable_modifier = { PARAMATER1 = weapon_type_$TYPE$_weapon_damage_mult PARAMATER2 = weapon_type_$TYPE$_weapon_fire_rate_mult UNIT = Tenth RATE = -0.45 } 
	}
	else = { no_events = yes }
}

# initial = 0  min = 0.25  small = 0.5  medium = 0.75  max = 0.99  origin = 1
# double = 2  fifth = 5  Tenth = 10  one_of_fourth = 25  one_of_double = 50  hundred = 100  million = 1000000  dmillion = 2000000
set_ban_eternal_fleet_mult_modifier = {
	optimize_memory
	########MULT VALUE########
	# #scope: fromfromfrom
	[[shield_penetration_standard] set_eternal_fleet_standard_modifier = { PARAMATER = $shield_penetration_standard$ RELATION = "!=" OUTPUT_VALUE = -1 UNIT_VALUE = 1 }]  
	[[armor_penetration_standard] set_eternal_fleet_standard_modifier = { PARAMATER = $armor_penetration_standard$  RELATION = "!=" OUTPUT_VALUE = -1 UNIT_VALUE = 1 }] 
	[[hull_regen_add_perc_standard] set_eternal_fleet_standard_modifier = { PARAMATER = $hull_regen_add_perc_standard$ RELATION = "!=" OUTPUT_VALUE = 1 UNIT_VALUE = -1 }]
	[[armor_regen_add_perc_standard] set_eternal_fleet_standard_modifier = { PARAMATER = $armor_regen_add_perc_standard$ RELATION = "!=" OUTPUT_VALUE = 1 UNIT_VALUE = -1 }]
	[[shield_regen_add_perc_standard] set_eternal_fleet_standard_modifier = { PARAMATER = $shield_regen_add_perc_standard$ RELATION = "!=" OUTPUT_VALUE = 1 UNIT_VALUE = -1 }] 
	[[armor_damage_standard] set_eternal_fleet_insane_damage_modifier = { PARAMATER = $armor_damage_standard$ RELATION = "!=" UNIT = origin UNIT1 = max }]  
	[[shield_damage_standard] set_eternal_fleet_insane_damage_modifier = { PARAMATER = $shield_damage_standard$ RELATION = "!=" UNIT = origin UNIT1 = max }]  
	[[hull_damage_standard] set_eternal_fleet_insane_damage_modifier = { PARAMATER = $hull_damage_standard$ RELATION = "!=" UNIT = origin UNIT1 = max }]  
	[[weapon_damage_standard] set_eternal_fleet_insane_damage_modifier = { PARAMATER = $weapon_damage_standard$ RELATION = "!=" UNIT = origin UNIT1 = max }]  
	[[tracking_standard] set_eternal_fleet_insane_damage_modifier = { PARAMATER = $tracking_standard$ RELATION = "!=" UNIT = origin UNIT1 = initial }]  
	[[accuracy_standard] set_eternal_fleet_insane_damage_modifier = { PARAMATER = $accuracy_standard$ RELATION = "!=" UNIT = origin UNIT1 = initial }]

	#scope: fromfrom
	[[weapon_damage] set_eternal_fleet_protection_modifier = { PARAMATER = $weapon_damage$ RELATION = "<" UNIT = initial }]  
	[[fire_rate_mult] set_eternal_fleet_protection_modifier = { PARAMATER = $fire_rate_mult$ RELATION = "<" UNIT = initial }]  
	[[shield_penetration] set_eternal_fleet_protection_modifier = { PARAMATER = $shield_penetration$ RELATION = "<" UNIT = initial }]  
	[[armor_penetration] set_eternal_fleet_protection_modifier = { PARAMATER = $armor_penetration$ RELATION = "<" UNIT = initial }]  
	[[hull_regen_add_perc] set_eternal_fleet_protection_modifier = { PARAMATER = $hull_regen_add_perc$ RELATION = "<" UNIT = initial }]  
	[[armor_regen_add_perc] set_eternal_fleet_protection_modifier = { PARAMATER = $armor_regen_add_perc$ RELATION = "<" UNIT = initial }]  
	[[shield_regen_add_perc] set_eternal_fleet_protection_modifier = { PARAMATER = $shield_regen_add_perc$ RELATION = "<" UNIT = initial }]  
	[[hull_mult] set_eternal_fleet_protection_modifier = { PARAMATER = $hull_mult$ RELATION = "<" UNIT = initial }]  
	[[armor_mult] set_eternal_fleet_protection_modifier = { PARAMATER = $armor_mult$ RELATION = "<" UNIT = initial }]  
	[[shield_mult] set_eternal_fleet_protection_modifier = { PARAMATER = $shield_mult$ RELATION = "<" UNIT = initial }]  
	[[weapon_range_mult] set_eternal_fleet_protection_modifier = { PARAMATER = $weapon_range_mult$ RELATION = "<" UNIT = initial }]  
	[[tracking] set_eternal_fleet_protection_modifier = { PARAMATER = $tracking$ RELATION = "<" UNIT = initial }]  
	[[accuracy] set_eternal_fleet_protection_modifier = { PARAMATER = $accuracy$ RELATION = "<" UNIT = initial }]  
	[[weapon_type_energy] set_eternal_fleet_protection_modifier = { PARAMATER = $weapon_type_energy$ RELATION = "<" UNIT = initial }]  
	[[weapon_type_kinetic] set_eternal_fleet_protection_modifier = { PARAMATER = $weapon_type_kinetic$ RELATION = "<" UNIT = initial }]  
	[[weapon_type_explosive] set_eternal_fleet_protection_modifier = { PARAMATER = $weapon_type_explosive$ RELATION = "<" UNIT = initial }]  
	[[armor_damage] set_eternal_fleet_protection_modifier = { PARAMATER = $armor_damage$ RELATION = "<" UNIT = initial }]  
	[[shield_damage] set_eternal_fleet_protection_modifier = { PARAMATER = $shield_damage$ RELATION = "<" UNIT = initial }]  
	[[hull_damage] set_eternal_fleet_protection_modifier = { PARAMATER = $hull_damage$ RELATION = "<" UNIT = initial }]  
	[[tracking_add] set_eternal_fleet_protection_modifier = { PARAMATER = $tracking_add$ RELATION = "<" UNIT = one_of_fourth }]  
	[[accuracy_add] set_eternal_fleet_protection_modifier = { PARAMATER = $accuracy_add$ RELATION = "<" UNIT = one_of_fourth }] 
	[[shield_add] set_eternal_fleet_protection_modifier = { PARAMATER = $shield_add$ RELATION = "<" UNIT = million }]  
	[[armor_add] set_eternal_fleet_protection_modifier = { PARAMATER = $armor_add$ RELATION = "<" UNIT = million }]  
	[[shield_reduction] set_eternal_fleet_protection_modifier = { PARAMATER = $shield_reduction$ RELATION = ">" UNIT = initial }]  
	[[armor_reduction] set_eternal_fleet_protection_modifier = { PARAMATER = $armor_reduction$ RELATION = ">" UNIT = initial }]  
}

# initial = 0  min = 0.25  small = 0.5  medium = 0.75  max = 0.99  origin = 1
# double = 2  fifth = 5  Tenth = 10  one_of_fourth = 25  one_of_double = 50  hundred = 100  million = 1000000  dmillion = 2000000
set_easy_eternal_fleet_mult_modifier = {
	optimize_memory
	########MULT VALUE########
	#scope: fromfromfrom
	[[shield_penetration_standard] set_eternal_fleet_standard_modifier = { PARAMATER = $shield_penetration_standard$ RELATION = "!=" OUTPUT_VALUE = -1 UNIT_VALUE = 1 }]  
	[[armor_penetration_standard] set_eternal_fleet_standard_modifier = { PARAMATER = $armor_penetration_standard$ RELATION = "!=" OUTPUT_VALUE = -1 UNIT_VALUE = 1 }] 
	[[hull_regen_add_perc_standard] set_eternal_fleet_standard_modifier = { PARAMATER = $hull_regen_add_perc_standard$ RELATION = "!=" OUTPUT_VALUE = 1 UNIT_VALUE = -1 }]
	[[armor_regen_add_perc_standard] set_eternal_fleet_standard_modifier = { PARAMATER = $armor_regen_add_perc_standard$ RELATION = "!=" OUTPUT_VALUE = 1 UNIT_VALUE = -1 }]
	[[shield_regen_add_perc_standard] set_eternal_fleet_standard_modifier = { PARAMATER = $shield_regen_add_perc_standard$ RELATION = "!=" OUTPUT_VALUE = 1 UNIT_VALUE = -1 }] 
	[[armor_damage_standard] set_eternal_fleet_insane_damage_modifier = { PARAMATER = $armor_damage_standard$ RELATION = "!=" UNIT = origin UNIT1 = min }]  
	[[shield_damage_standard] set_eternal_fleet_insane_damage_modifier = { PARAMATER = $shield_damage_standard$ RELATION = "!=" UNIT = origin UNIT1 = min }]  
	[[hull_damage_standard] set_eternal_fleet_insane_damage_modifier = { PARAMATER = $hull_damage_standard$ RELATION = "!=" UNIT = origin UNIT1 = min }]  
	[[weapon_damage_standard] set_eternal_fleet_insane_damage_modifier = { PARAMATER = $weapon_damage_standard$ RELATION = "!=" UNIT = origin UNIT1 = min }]  
	[[tracking_standard] set_eternal_fleet_insane_damage_modifier = { PARAMATER = $tracking_standard$ RELATION = "!=" UNIT = origin UNIT1 = initial }]  
	[[accuracy_standard] set_eternal_fleet_insane_damage_modifier = { PARAMATER = $accuracy_standard$ RELATION = "!=" UNIT = origin UNIT1 = initial }] 

	#scope: fromfrom
	[[weapon_damage] set_eternal_fleet_protection_modifier = { PARAMATER = $weapon_damage$ RELATION = "<" UNIT = min }] 
	[[fire_rate_mult] set_eternal_fleet_protection_modifier = { PARAMATER = $fire_rate_mult$ RELATION = "<" UNIT = min }]  
	[[shield_penetration] set_eternal_fleet_protection_modifier = { PARAMATER = $shield_penetration$ RELATION = "<" UNIT = min }]  
	[[armor_penetration] set_eternal_fleet_protection_modifier = { PARAMATER = $armor_penetration$ RELATION = "<" UNIT = min }]   
	[[hull_regen_add_perc] set_eternal_fleet_protection_modifier = { PARAMATER = $hull_regen_add_perc$ RELATION = "<" UNIT = min }]  
	[[armor_regen_add_perc] set_eternal_fleet_protection_modifier = { PARAMATER = $armor_regen_add_perc$ RELATION = "<" UNIT = min }]  
	[[shield_regen_add_perc] set_eternal_fleet_protection_modifier = { PARAMATER = $shield_regen_add_perc$ RELATION = "<" UNIT = min }]  
	[[hull_mult] set_eternal_fleet_protection_modifier = { PARAMATER = $hull_mult$ RELATION = "<" UNIT = min }]  
	[[armor_mult] set_eternal_fleet_protection_modifier = { PARAMATER = $armor_mult$ RELATION = "<" UNIT = min }]  
	[[shield_mult] set_eternal_fleet_protection_modifier = { PARAMATER = $shield_mult$ RELATION = "<" UNIT = min }]  
	[[weapon_range_mult] set_eternal_fleet_protection_modifier = { PARAMATER = $weapon_range_mult$ RELATION = "<" UNIT = min }]  
	[[tracking] set_eternal_fleet_protection_modifier = { PARAMATER = $tracking$ RELATION = "<" UNIT = min }]  
	[[accuracy] set_eternal_fleet_protection_modifier = { PARAMATER = $accuracy$ RELATION = "<" UNIT = min }]  
	[[weapon_type_energy] set_eternal_fleet_protection_modifier = { PARAMATER = $weapon_type_energy$ RELATION = "<" UNIT = min }]  
	[[weapon_type_kinetic] set_eternal_fleet_protection_modifier = { PARAMATER = $weapon_type_kinetic$ RELATION = "<" UNIT = min }]  
	[[weapon_type_explosive] set_eternal_fleet_protection_modifier = { PARAMATER = $weapon_type_explosive$ RELATION = "<" UNIT = min }]  
	[[armor_damage] set_eternal_fleet_protection_modifier = { PARAMATER = $armor_damage$ RELATION = "<" UNIT = min }]  
	[[shield_damage] set_eternal_fleet_protection_modifier = { PARAMATER = $shield_damage$ RELATION = "<" UNIT = min }]  
	[[hull_damage] set_eternal_fleet_protection_modifier = { PARAMATER = $hull_damage$ RELATION = "<" UNIT = min }]  
	[[tracking_add] set_eternal_fleet_protection_modifier = { PARAMATER = $tracking_add$ RELATION = "<" UNIT = one_of_fourth }]  
	[[accuracy_add] set_eternal_fleet_protection_modifier = { PARAMATER = $accuracy_add$ RELATION = "<" UNIT = one_of_fourth }]  
	[[shield_add] set_eternal_fleet_protection_modifier = { PARAMATER = $shield_add$ RELATION = "<" UNIT = million }]  
	[[armor_add] set_eternal_fleet_protection_modifier = { PARAMATER = $armor_add$ RELATION = "<" UNIT = million }]  
	[[shield_reduction] set_eternal_fleet_protection_modifier = { PARAMATER = $shield_reduction$ RELATION = ">" UNIT = initial }]  
	[[armor_reduction] set_eternal_fleet_protection_modifier = { PARAMATER = $armor_reduction$ RELATION = ">" UNIT = initial }]  
}

# initial = 0  min = 0.25  small = 0.5  medium = 0.75  max = 0.99  origin = 1
# double = 2  fifth = 5  Tenth = 10  one_of_fourth = 25  one_of_double = 50  hundred = 100  million = 1000000  dmillion = 2000000
set_normal_eternal_fleet_mult_modifier = {
	optimize_memory
	########MULT VALUE########
	#scope: fromfromfrom
	[[shield_penetration_standard] set_eternal_fleet_standard_modifier = { PARAMATER = $shield_penetration_standard$ RELATION = "!=" OUTPUT_VALUE = -1 UNIT_VALUE = 1 }]  
	[[armor_penetration_standard] set_eternal_fleet_standard_modifier = { PARAMATER = $armor_penetration_standard$ RELATION = "!=" OUTPUT_VALUE = -1 UNIT_VALUE = 1 }] 
	[[hull_regen_add_perc_standard] set_eternal_fleet_standard_modifier = { PARAMATER = $hull_regen_add_perc_standard$ RELATION = "!=" OUTPUT_VALUE = 1 UNIT_VALUE = -1 }]
	[[armor_regen_add_perc_standard] set_eternal_fleet_standard_modifier = { PARAMATER = $armor_regen_add_perc_standard$ RELATION = "!=" OUTPUT_VALUE = 1 UNIT_VALUE = -1 }]
	[[shield_regen_add_perc_standard] set_eternal_fleet_standard_modifier = { PARAMATER = $shield_regen_add_perc_standard$ RELATION = "!=" OUTPUT_VALUE = 1 UNIT_VALUE = -1 }] 
	[[armor_damage_standard] set_eternal_fleet_insane_damage_modifier = { PARAMATER = $armor_damage_standard$ RELATION = "!=" UNIT = origin UNIT1 = small }]  
	[[shield_damage_standard] set_eternal_fleet_insane_damage_modifier = { PARAMATER = $shield_damage_standard$ RELATION = "!=" UNIT = origin UNIT1 = small }]  
	[[hull_damage_standard] set_eternal_fleet_insane_damage_modifier = { PARAMATER = $hull_damage_standard$ RELATION = "!=" UNIT = origin UNIT1 = small }]  
	[[weapon_damage_standard] set_eternal_fleet_insane_damage_modifier = { PARAMATER = $weapon_damage_standard$ RELATION = "!=" UNIT = origin UNIT1 = small }]  
	[[tracking_standard] set_eternal_fleet_insane_damage_modifier = { PARAMATER = $tracking_standard$ RELATION = "!=" UNIT = origin UNIT1 = initial }]  
	[[accuracy_standard] set_eternal_fleet_insane_damage_modifier = { PARAMATER = $accuracy_standard$ RELATION = "!=" UNIT = origin UNIT1 = initial }]  

	#scope: fromfrom
	[[weapon_damage] set_eternal_fleet_protection_modifier = { PARAMATER = $weapon_damage$ RELATION = "<" UNIT = small }]  
	[[fire_rate_mult] set_eternal_fleet_protection_modifier = { PARAMATER = $fire_rate_mult$ RELATION = "<" UNIT = small }]  
	[[shield_penetration] set_eternal_fleet_protection_modifier = { PARAMATER = $shield_penetration$ RELATION = "<" UNIT = small }]  
	[[armor_penetration] set_eternal_fleet_protection_modifier = { PARAMATER = $armor_penetration$ RELATION = "<" UNIT = small }]  
	[[hull_regen_add_perc] set_eternal_fleet_protection_modifier = { PARAMATER = $hull_regen_add_perc$ RELATION = "<" UNIT = small }]  
	[[armor_regen_add_perc] set_eternal_fleet_protection_modifier = { PARAMATER = $armor_regen_add_perc$ RELATION = "<" UNIT = small }]  
	[[shield_regen_add_perc] set_eternal_fleet_protection_modifier = { PARAMATER = $shield_regen_add_perc$ RELATION = "<" UNIT = small }]  
	[[hull_mult] set_eternal_fleet_protection_modifier = { PARAMATER = $hull_mult$ RELATION = "<" UNIT = small }]  
	[[armor_mult] set_eternal_fleet_protection_modifier = { PARAMATER = $armor_mult$ RELATION = "<" UNIT = small }]  
	[[shield_mult] set_eternal_fleet_protection_modifier = { PARAMATER = $shield_mult$ RELATION = "<" UNIT = small }]  
	[[weapon_range_mult] set_eternal_fleet_protection_modifier = { PARAMATER = $weapon_range_mult$ RELATION = "<" UNIT = small }]  
	[[tracking] set_eternal_fleet_protection_modifier = { PARAMATER = $tracking$ RELATION = "<" UNIT = small }]  
	[[accuracy] set_eternal_fleet_protection_modifier = { PARAMATER = $accuracy$ RELATION = "<" UNIT = small }]  
	[[weapon_type_energy] set_eternal_fleet_protection_modifier = { PARAMATER = $weapon_type_energy$ RELATION = "<" UNIT = small }]  
	[[weapon_type_kinetic] set_eternal_fleet_protection_modifier = { PARAMATER = $weapon_type_kinetic$ RELATION = "<" UNIT = small }]  
	[[weapon_type_explosive] set_eternal_fleet_protection_modifier = { PARAMATER = $weapon_type_explosive$ RELATION = "<" UNIT = small }]  
	[[armor_damage] set_eternal_fleet_protection_modifier = { PARAMATER = $armor_damage$ RELATION = "<" UNIT = small }]  
	[[shield_damage] set_eternal_fleet_protection_modifier = { PARAMATER = $shield_damage$ RELATION = "<" UNIT = small }]  
	[[hull_damage] set_eternal_fleet_protection_modifier = { PARAMATER = $hull_damage$ RELATION = "<" UNIT = small }]  
	[[tracking_add] set_eternal_fleet_protection_modifier = { PARAMATER = $tracking_add$ RELATION = "<" UNIT = one_of_double }]  
	[[accuracy_add] set_eternal_fleet_protection_modifier = { PARAMATER = $accuracy_add$ RELATION = "<" UNIT = one_of_double }]  
	[[shield_add] set_eternal_fleet_protection_modifier = { PARAMATER = $shield_add$ RELATION = "<" UNIT = million }]  
	[[armor_add] set_eternal_fleet_protection_modifier = { PARAMATER = $armor_add$ RELATION = "<" UNIT = million }]  
	[[shield_reduction] set_eternal_fleet_protection_modifier = { PARAMATER = $shield_reduction$ RELATION = ">" UNIT = initial }]  
	[[armor_reduction] set_eternal_fleet_protection_modifier = { PARAMATER = $armor_reduction$ RELATION = ">" UNIT = initial }]  
}
 
# initial = 0  min = 0.25  small = 0.5  medium = 0.75  max = 0.99  origin = 1
# double = 2  fifth = 5  Tenth = 10  one_of_fourth = 25  one_of_double = 50  hundred = 100  million = 1000000  dmillion = 2000000
set_difiicult_eternal_fleet_mult_modifier = {
	optimize_memory
	########MULT VALUE########
	#scope: fromfromfrom
	[[shield_penetration_standard] set_eternal_fleet_standard_modifier = { PARAMATER = $shield_penetration_standard$ RELATION = "!=" OUTPUT_VALUE = -1 UNIT_VALUE = 1 }]  
	[[armor_penetration_standard] set_eternal_fleet_standard_modifier = { PARAMATER = $armor_penetration_standard$ RELATION = "!=" OUTPUT_VALUE = -1 UNIT_VALUE = 1 }] 
	[[hull_regen_add_perc_standard] set_eternal_fleet_standard_modifier = { PARAMATER = $hull_regen_add_perc_standard$ RELATION = "!=" OUTPUT_VALUE = 1 UNIT_VALUE = -1 }]
	[[armor_regen_add_perc_standard] set_eternal_fleet_standard_modifier = { PARAMATER = $armor_regen_add_perc_standard$ RELATION = "!=" OUTPUT_VALUE = 1 UNIT_VALUE = -1 }]
	[[shield_regen_add_perc_standard] set_eternal_fleet_standard_modifier = { PARAMATER = $shield_regen_add_perc_standard$ RELATION = "!=" OUTPUT_VALUE = 1 UNIT_VALUE = -1 }] 
	[[armor_damage_standard] set_eternal_fleet_damage_modifier = { PARAMATER = $armor_damage_standard$ RELATION = "!=" UNIT = origin UNIT1 = medium }]  
	[[shield_damage_standard] set_eternal_fleet_damage_modifier = { PARAMATER = $shield_damage_standard$ RELATION = "!=" UNIT = origin UNIT1 = medium }]  
	[[hull_damage_standard] set_eternal_fleet_damage_modifier = { PARAMATER = $hull_damage_standard$ RELATION = "!=" UNIT = origin UNIT1 = medium }]  
	[[weapon_damage_standard] set_eternal_fleet_damage_modifier = { PARAMATER = $weapon_damage_standard$ RELATION = "!=" UNIT = origin UNIT1 = medium }]  
	[[tracking_standard] set_eternal_fleet_damage_modifier = { PARAMATER = $tracking_standard$ RELATION = "!=" UNIT = origin UNIT1 = initial }]  
	[[accuracy_standard] set_eternal_fleet_damage_modifier = { PARAMATER = $accuracy_standard$ RELATION = "!=" UNIT = origin UNIT1 = initial }]  

	#scope: fromfrom
	[[weapon_damage] set_eternal_fleet_protection_modifier = { PARAMATER = $weapon_damage$ RELATION = "<" UNIT = origin }]  
	[[fire_rate_mult] set_eternal_fleet_protection_modifier = { PARAMATER = $fire_rate_mult$ RELATION = "<" UNIT = origin }]  
	[[shield_penetration] set_eternal_fleet_protection_modifier = { PARAMATER = $shield_penetration$ RELATION = "<" UNIT = origin }]  
	[[armor_penetration] set_eternal_fleet_protection_modifier = { PARAMATER = $armor_penetration$ RELATION = "<" UNIT = origin }]  
	[[hull_regen_add_perc] set_eternal_fleet_protection_modifier = { PARAMATER = $hull_regen_add_perc$ RELATION = "<" UNIT = origin }]  
	[[armor_regen_add_perc] set_eternal_fleet_protection_modifier = { PARAMATER = $armor_regen_add_perc$ RELATION = "<" UNIT = origin }]  
	[[shield_regen_add_perc] set_eternal_fleet_protection_modifier = { PARAMATER = $shield_regen_add_perc$ RELATION = "<" UNIT = origin }]  
	[[hull_mult] set_eternal_fleet_protection_modifier = { PARAMATER = $hull_mult$ RELATION = "<" UNIT = origin }]  
	[[armor_mult] set_eternal_fleet_protection_modifier = { PARAMATER = $armor_mult$ RELATION = "<" UNIT = origin }]  
	[[shield_mult] set_eternal_fleet_protection_modifier = { PARAMATER = $shield_mult$ RELATION = "<" UNIT = origin }]  
	[[weapon_range_mult] set_eternal_fleet_protection_modifier = { PARAMATER = $weapon_range_mult$ RELATION = "<" UNIT = origin }]  
	[[tracking] set_eternal_fleet_protection_modifier = { PARAMATER = $tracking$ RELATION = "<" UNIT = origin }]  
	[[accuracy] set_eternal_fleet_protection_modifier = { PARAMATER = $accuracy$ RELATION = "<" UNIT = origin }]  
	[[weapon_type_energy] set_eternal_fleet_protection_modifier = { PARAMATER = $weapon_type_energy$ RELATION = "<" UNIT = origin }]  
	[[weapon_type_kinetic] set_eternal_fleet_protection_modifier = { PARAMATER = $weapon_type_kinetic$ RELATION = "<" UNIT = origin }]  
	[[weapon_type_explosive] set_eternal_fleet_protection_modifier = { PARAMATER = $weapon_type_explosive$ RELATION = "<" UNIT = origin }]  
	[[armor_damage] set_eternal_fleet_protection_modifier = { PARAMATER = $armor_damage$ RELATION = "<" UNIT = origin }]  
	[[shield_damage] set_eternal_fleet_protection_modifier = { PARAMATER = $shield_damage$ RELATION = "<" UNIT = origin }]  
	[[hull_damage] set_eternal_fleet_protection_modifier = { PARAMATER = $hull_damage$ RELATION = "<" UNIT = origin }]  
	[[tracking_add] set_eternal_fleet_protection_modifier = { PARAMATER = $tracking_add$ RELATION = "<" UNIT = hundred }]  
	[[accuracy_add] set_eternal_fleet_protection_modifier = { PARAMATER = $accuracy_add$ RELATION = "<" UNIT = hundred }]  
	[[shield_add] set_eternal_fleet_protection_modifier = { PARAMATER = $shield_add$ RELATION = "<" UNIT = million }]  
	[[armor_add] set_eternal_fleet_protection_modifier = { PARAMATER = $armor_add$ RELATION = "<" UNIT = million }]  
	[[shield_reduction] set_eternal_fleet_protection_modifier = { PARAMATER = $shield_reduction$ RELATION = ">" UNIT = initial }]  
	[[armor_reduction] set_eternal_fleet_protection_modifier = { PARAMATER = $armor_reduction$ RELATION = ">" UNIT = initial }]  
}

# tip:script scope available in penetration modifier, other will be error.
# parameter modifier.
# UNIT_VALUE: modifier change units.
# OUTPUT_VALUE: target value of modifier.
# TYPE: value class type, for example change\subtract.
# SUPPORT: + OR -  
set_eternal_fleet_standard_modifier = {
	if = { 
		limit = { 
			NOR = { has_ship_flag = fire_ship_var has_ship_flag = $PARAMATER$_ship_cooldown }
			check_modifier_value = { modifier = $PARAMATER$ value $RELATION$ $OUTPUT_VALUE$ }
		}
		export_modifier_to_variable = { modifier = $PARAMATER$ variable = $PARAMATER$_value }
		change_variable = { which = $PARAMATER$_value value = $UNIT_VALUE$ }
		add_modifier = { modifier = basic_$PARAMATER$ multiplier = $PARAMATER$_value }
		if = { limit = { is_variable_set = $PARAMATER$_value } clear_variable = $PARAMATER$_value }
		set_timed_ship_flag = { flag = $PARAMATER$_ship_cooldown days = 1 }
	} 
	else_if = { 
		limit = { 
			has_ship_flag = fire_ship_var NOT = { has_ship_flag = $PARAMATER$_ship_cooldown }
			check_modifier_value = { modifier = $PARAMATER$ value $RELATION$ $OUTPUT_VALUE$ }
		}
		export_modifier_to_variable = { modifier = $PARAMATER$ variable = change_$PARAMATER$_value }
		change_variable = { which = change_$PARAMATER$_value value = $UNIT_VALUE$ }
		add_modifier = { modifier = change_basic_$PARAMATER$ multiplier = change_$PARAMATER$_value }
		if = { limit = { is_variable_set = change_$PARAMATER$_value } clear_variable = change_$PARAMATER$_value }
		set_timed_ship_flag = { flag = $PARAMATER$_ship_cooldown days = 1 }
	}
}

# tip:script scope available in armor/shield/powerpoint modifier, other will be error.
# parameter modifier  
# UNITNon flagship value  
# UNIT1flagship value
# SUPPORT: -
set_eternal_fleet_damage_modifier = {
	if = {
		limit = { 
			NOR = { has_ship_flag = fire_ship_var has_ship_flag = $PARAMATER$_ship_cooldown }
			check_modifier_value = { modifier = $PARAMATER$ value > @mult_modifer_mult_$UNIT$_value } 
		}
		export_modifier_to_variable = { modifier = $PARAMATER$ variable = $PARAMATER$_value }
		change_variable = { which = $PARAMATER$_value value = @modifer_mult_$UNIT$_value }
		add_modifier = { modifier = basic_$PARAMATER$ multiplier = $PARAMATER$_value }
		if = { limit = { is_variable_set = $PARAMATER$_value } clear_variable = $PARAMATER$_value }
		set_timed_ship_flag = { flag = $PARAMATER$_ship_cooldown days = 1 }
	} 
	else_if = { 
		limit = { has_ship_flag = fire_ship_var NOT = { has_ship_flag = $PARAMATER$_ship_cooldown } }
		if = {
			limit = { 
				fleet = { has_enable_flag_ship_system_true = yes } 
				check_modifier_value = { modifier = $PARAMATER$ value $RELATION$ @mult_modifer_mult_$UNIT1$_value }
			}
			export_modifier_to_variable = { modifier = $PARAMATER$ variable = change_$PARAMATER$_value }
			change_variable = { which = change_$PARAMATER$_value value = @modifer_mult_$UNIT1$_value }
			add_modifier = { modifier = change_basic_$PARAMATER$ multiplier = change_$PARAMATER$_value }
			if = { limit = { is_variable_set = change_$PARAMATER$_value } clear_variable = change_$PARAMATER$_value }
			set_timed_ship_flag = { flag = $PARAMATER$_ship_cooldown days = 1 }
		}
		else_if = {
			limit = { 
				fleet = { has_enable_flag_ship_system_true = no } 
				check_modifier_value = { modifier = $PARAMATER$ value $RELATION$ @mult_modifer_mult_$UNIT$_value }
			}
			export_modifier_to_variable = { modifier = $PARAMATER$ variable = change_$PARAMATER$_value }
			change_variable = { which = change_$PARAMATER$_value value = @modifer_mult_$UNIT$_value }
			add_modifier = { modifier = change_basic_$PARAMATER$ multiplier = change_$PARAMATER$_value }
			if = { limit = { is_variable_set = change_$PARAMATER$_value } clear_variable = change_$PARAMATER$_value }
			set_timed_ship_flag = { flag = $PARAMATER$_ship_cooldown days = 1 }
		}
	}
}

# tip:script scope available in insane eternal damage system
# parameter the modifier  
# UNITNon flagship value  
# UNIT1flagship value
# RELATION < > or = 
# SUPPORT -
set_eternal_fleet_insane_damage_modifier = {
	if = {
		limit = { 
			NOR = { has_ship_flag = fire_ship_var has_ship_flag = $PARAMATER$_ship_cooldown }
			check_modifier_value = { modifier = $PARAMATER$ value > @mult_modifer_mult_$UNIT$_value }
		}
		export_modifier_to_variable = { modifier = $PARAMATER$ variable = $PARAMATER$_value }
		change_variable = { which = $PARAMATER$_value value = @modifer_mult_$UNIT$_value }
		add_modifier = { modifier = basic_$PARAMATER$ multiplier = $PARAMATER$_value }
		if = { limit = { is_variable_set = $PARAMATER$_value } clear_variable = $PARAMATER$_value }
		set_timed_ship_flag = { flag = $PARAMATER$_ship_cooldown days = 1 }
	} 
	else_if = { 
		limit = { 
			has_ship_flag = fire_ship_var NOT = { has_ship_flag = $PARAMATER$_ship_cooldown }
			check_modifier_value = { modifier = $PARAMATER$ value $RELATION$ @mult_modifer_mult_$UNIT1$_value }
		}
		export_modifier_to_variable = { modifier = $PARAMATER$ variable = change_$PARAMATER$_value }
		change_variable = { which = change_$PARAMATER$_value value = @modifer_mult_$UNIT1$_value }
		add_modifier = { modifier = change_basic_$PARAMATER$ multiplier = change_$PARAMATER$_value }
		if = { limit = { is_variable_set = change_$PARAMATER$_value } clear_variable = change_$PARAMATER$_value }
		set_timed_ship_flag = { flag = $PARAMATER$_ship_cooldown days = 1 }
	}
}

# tip:script scope available in all modifier about protecting ship
# parameter the modifier  
# UNITNon flagship value  
# RELATION < > or = 
# SUPPORT: +
set_eternal_fleet_protection_modifier = {
	if = {
		limit = { 
			NOR = { has_ship_flag = fire_ship_var has_ship_flag = $PARAMATER$_ship_cooldown }
			check_modifier_value = { modifier = $PARAMATER$ value $RELATION$ @modifer_mult_$UNIT$_value }
		}
		export_modifier_to_variable = { modifier = $PARAMATER$ variable = $PARAMATER$_value }
		subtract_variable = { which = $PARAMATER$_value value = @modifer_mult_$UNIT$_value }
		add_modifier = { modifier = basic_$PARAMATER$ multiplier = $PARAMATER$_value }
		if = { limit = { is_variable_set = $PARAMATER$_value } clear_variable = $PARAMATER$_value }
		set_timed_ship_flag = { flag = $PARAMATER$_ship_cooldown days = 1 }
	} 
	else_if = { 
		limit = { 
			has_ship_flag = fire_ship_var NOT = { has_ship_flag = $PARAMATER$_ship_cooldown }
			check_modifier_value = { modifier = $PARAMATER$ value $RELATION$ @modifer_mult_$UNIT$_value }
		}
		export_modifier_to_variable = { modifier = $PARAMATER$ variable = change_$PARAMATER$_value }
		subtract_variable = { which = change_$PARAMATER$_value value = @modifer_mult_$UNIT$_value }
		add_modifier = { modifier = change_basic_$PARAMATER$ multiplier = change_$PARAMATER$_value }
		if = { limit = { is_variable_set = change_$PARAMATER$_value } clear_variable = change_$PARAMATER$_value }
		set_timed_ship_flag = { flag = $PARAMATER$_ship_cooldown days = 1 }
	}
}


# tip:script scope available in repeatable technology
# parameter1 the repeatable fire rate modifier(input)
# parameter1 the repeatable damage modifier(output)
# UNITValue standard
set_standard_battle_repeatable_modifier = {
	if = {
		limit = { NOR = { has_ship_flag = fire_ship_var_repeat has_ship_flag = repeatable_$PARAMATER1$_ship_cooldown } }

		export_modifier_to_variable = { modifier = $PARAMATER1$ variable = $PARAMATER1$_value }
		subtract_variable = { which = $PARAMATER1$_value value = @modifer_mult_$UNIT$_value }
		add_modifier = { modifier = basic_$PARAMATER1$ multiplier = $PARAMATER1$_value }

		set_variable = { which = $PARAMATER2$_value value = $PARAMATER1$_value }
		multiply_variable = { which = $PARAMATER2$_value value = $RATE$ }
		add_modifier = { modifier = basic_$PARAMATER2$ multiplier = $PARAMATER2$_value }

		clear_variable = $PARAMATER1$_value clear_variable = $PARAMATER2$_value
		set_timed_ship_flag = { flag = repeatable_$PARAMATER1$_ship_cooldown days = 1 }
	} 
	else_if = { 
		limit = { has_ship_flag = fire_ship_var_repeat NOT = { has_ship_flag = repeatable_$PARAMATER1$_ship_cooldown } }

		export_modifier_to_variable = { modifier = $PARAMATER1$ variable = change_$PARAMATER1$_value }
		subtract_variable = { which = change_$PARAMATER1$_value value = @modifer_mult_$UNIT$_value }
		add_modifier = { modifier = change_basic_$PARAMATER1$ multiplier = change_$PARAMATER1$_value }

		set_variable = { which = change_$PARAMATER2$_value value = change_$PARAMATER1$_value }
		multiply_variable = { which = change_$PARAMATER2$_value value = $RATE$ }
		add_modifier = { modifier = change_basic_$PARAMATER2$ multiplier = change_$PARAMATER2$_value }

		clear_variable = change_$PARAMATER1$_value clear_variable = change_$PARAMATER2$_value
		set_timed_ship_flag = { flag = repeatable_$PARAMATER1$_ship_cooldown days = 1 }
	}
}

# base modifier script
set_invasion_fleet_basic_modifier = { 
	add_modifier = { modifier = $SUB$ multiplier = $FACTOR$ days = $DAYS|-1$ } 
}

# reset all modifier
clear_battleship_modifier_fixed_ship = {
	optimize_memory
	remove_modifier = basic_ship_shield_penetration_mult				remove_modifier = change_basic_ship_shield_penetration_mult 
	remove_modifier = basic_ship_armor_penetration_mult					remove_modifier = change_basic_ship_armor_penetration_mult
	remove_modifier = basic_ship_armor_damage_mult						remove_modifier = change_basic_ship_armor_damage_mult
	remove_modifier = basic_ship_shield_damage_mult						remove_modifier = change_basic_ship_shield_damage_mult
	remove_modifier = basic_ship_hull_damage_mult						remove_modifier = change_basic_ship_hull_damage_mult
	remove_modifier = basic_ship_tracking_mult							remove_modifier = change_basic_ship_tracking_mult
	remove_modifier = basic_ship_weapon_damage							remove_modifier = change_basic_ship_weapon_damage
	remove_modifier = basic_ship_hull_regen_add_perc					remove_modifier = change_basic_ship_hull_regen_add_perc
	remove_modifier = basic_ship_armor_regen_add_perc					remove_modifier = change_basic_ship_armor_regen_add_perc
	remove_modifier = basic_ship_shield_regen_add_perc					remove_modifier = change_basic_ship_shield_regen_add_perc
	remove_modifier = basic_ship_hull_mult								remove_modifier = change_basic_ship_hull_mult
	remove_modifier = basic_ship_armor_mult								remove_modifier = change_basic_ship_armor_mult
	remove_modifier = basic_ship_shield_mult							remove_modifier = change_basic_ship_shield_mult
	remove_modifier = basic_ship_shield_reduction						remove_modifier = change_basic_ship_shield_reduction
	remove_modifier = basic_ship_armor_reduction						remove_modifier = change_basic_ship_armor_reduction
	remove_modifier = basic_ship_accuracy_mult							remove_modifier = change_basic_ship_accuracy_mult
	remove_modifier = basic_ship_weapon_range_mult						remove_modifier = change_basic_ship_weapon_range_mult
	remove_modifier = basic_ship_fire_rate_mult							remove_modifier = change_basic_ship_fire_rate_mult
	remove_modifier = basic_ship_tracking_add							remove_modifier = change_basic_ship_tracking_add
	remove_modifier = basic_ship_accuracy_add							remove_modifier = change_basic_ship_accuracy_add
	remove_modifier = basic_ship_armor_add								remove_modifier = change_basic_ship_armor_add
	remove_modifier = basic_ship_shield_add								remove_modifier = change_basic_ship_shield_add
	remove_ship_modifier_trigger_flag = yes								remove_total_repeatable_modifier = yes
}

remove_total_repeatable_modifier = {
	remove_repetable_modifier = { TITLE = change_basic TYPE = explosive }
	remove_repetable_modifier = { TITLE = change_basic TYPE = kinetic }
	remove_repetable_modifier = { TITLE = change_basic TYPE = energy }
	remove_repetable_modifier = { TITLE = change_basic TYPE = gravity }
	remove_repetable_modifier = { TITLE = change_basic TYPE = psionic }
	remove_repetable_modifier = { TITLE = change_basic TYPE = anti_psionic }
	remove_repetable_modifier = { TITLE = change_basic TYPE = ancient_primary }
	remove_repetable_modifier = { TITLE = change_basic TYPE = titan_primary }
	remove_repetable_modifier = { TITLE = change_basic TYPE = titan_secondary }
	remove_repetable_modifier = { TITLE = change_basic TYPE = zeta_crisis_primary }
	remove_repetable_modifier = { TITLE = change_basic TYPE = zeta_crisis_primary_alt }
	remove_repetable_modifier = { TITLE = change_basic TYPE = zeta_crisis_secondary }
	remove_repetable_modifier = { TITLE = change_basic TYPE = SRA_SRA }
	remove_repetable_modifier = { TITLE = change_basic TYPE = SRA_RE_Core }
	remove_repetable_modifier = { TITLE = change_basic TYPE = H.D.energy }
	remove_repetable_modifier = { TITLE = change_basic TYPE = HD.M.kinetic }
	remove_repetable_modifier = { TITLE = change_basic TYPE = PrimaMateria }
	remove_repetable_modifier = { TITLE = change_basic TYPE = magicia }
	remove_repetable_modifier = { TITLE = change_basic TYPE = rulerule }
	remove_repetable_modifier = { TITLE = change_basic TYPE = fake_madoka }
	remove_repetable_modifier = { TITLE = change_basic TYPE = arcane }
	remove_repetable_modifier = { TITLE = change_basic TYPE = cosmic }
	remove_repetable_modifier = { TITLE = change_basic TYPE = light_power }
	remove_repetable_modifier = { TITLE = change_basic TYPE = wsg_pantsu }
	remove_repetable_modifier = { TITLE = change_basic TYPE = tesla }
	remove_repetable_modifier = { TITLE = change_basic TYPE = sr_uf }
	remove_repetable_modifier = { TITLE = change_basic TYPE = gungnir }
	remove_repetable_modifier = { TITLE = change_basic TYPE = xianzhe }
	remove_repetable_modifier = { TITLE = change_basic TYPE = knife }
	remove_repetable_modifier = { TITLE = change_basic TYPE = lingli }
	remove_repetable_modifier = { TITLE = change_basic TYPE = magic }
	remove_repetable_modifier = { TITLE = change_basic TYPE = nytowith }
	remove_repetable_modifier = { TITLE = change_basic TYPE = light }
	remove_repetable_modifier = { TITLE = change_basic TYPE = keto }
	remove_repetable_modifier = { TITLE = change_basic TYPE = Akso }
	remove_repetable_modifier = { TITLE = change_basic TYPE = LsScepter }
	remove_repetable_modifier = { TITLE = change_basic TYPE = son }
	remove_repetable_modifier = { TITLE = change_basic TYPE = prism }
	remove_repetable_modifier = { TITLE = change_basic TYPE = Electronic }
	remove_repetable_modifier = { TITLE = change_basic TYPE = beacon }
	remove_repetable_modifier = { TITLE = change_basic TYPE = aoe }
	remove_repetable_modifier = { TITLE = change_basic TYPE = kancolle }
	remove_repetable_modifier = { TITLE = change_basic TYPE = kancolle_shinkai }
	remove_repetable_modifier = { TITLE = change_basic TYPE = aon_rpg_attack }
	remove_repetable_modifier = { TITLE = change_basic TYPE = aon_rpg_magic }
	remove_repetable_modifier = { TITLE = change_basic TYPE = sfdoll }
	remove_repetable_modifier = { TITLE = change_basic TYPE = nano }
	remove_repetable_modifier = { TITLE = change_basic TYPE = KZ_VOY_magic }
	remove_repetable_modifier = { TITLE = change_basic TYPE = KZ_VOY_wind_magic }
	remove_repetable_modifier = { TITLE = change_basic TYPE = KZ_VOY_time_magic }
	remove_repetable_modifier = { TITLE = change_basic TYPE = KZ_VOY_earth_magic }
	remove_repetable_modifier = { TITLE = change_basic TYPE = KZ_VOY_pyromancy_magic }
	remove_repetable_modifier = { TITLE = change_basic TYPE = KZ_VOY_lightning_magic }
	remove_repetable_modifier = { TITLE = change_basic TYPE = KZ_VOY_bright_magic }
	remove_repetable_modifier = { TITLE = change_basic TYPE = KZ_VOY_dark_magic }
	remove_repetable_modifier = { TITLE = change_basic TYPE = KZ_VOY_space_magic }
	remove_repetable_modifier = { TITLE = change_basic TYPE = KZ_VOY_aqua_magic }
	remove_repetable_modifier = { TITLE = change_basic TYPE = KZ_VOY_life_magic }
	remove_repetable_modifier = { TITLE = change_basic TYPE = KZ_VOY_temporal }
	remove_repetable_modifier = { TITLE = change_basic TYPE = ge_void_energy }
	remove_repetable_modifier = { TITLE = change_basic TYPE = magi }
	remove_repetable_modifier = { TITLE = change_basic TYPE = charm }
	remove_repetable_modifier = { TITLE = change_basic TYPE = mystical }
	remove_repetable_modifier = { TITLE = change_basic TYPE = close_combat }
	remove_repetable_modifier = { TITLE = change_basic TYPE = critical }
	remove_repetable_modifier = { TITLE = change_basic TYPE = fgosw_block }
	remove_repetable_modifier = { TITLE = change_basic TYPE = fgosw_battle_continuation }
	remove_repetable_modifier = { TITLE = change_basic TYPE = fgosw_only_one }
	remove_repetable_modifier = { TITLE = change_basic TYPE = fgosw_multi_level }
	remove_repetable_modifier = { TITLE = change_basic TYPE = fgosw_skill_saber }
	remove_repetable_modifier = { TITLE = change_basic TYPE = fgosw_skill_archer }
	remove_repetable_modifier = { TITLE = change_basic TYPE = fgosw_skill_lancer }
	remove_repetable_modifier = { TITLE = change_basic TYPE = fgosw_skill_rider }
	remove_repetable_modifier = { TITLE = change_basic TYPE = fgosw_skill_caster }
	remove_repetable_modifier = { TITLE = change_basic TYPE = fgosw_skill_assassin }
	remove_repetable_modifier = { TITLE = change_basic TYPE = fgosw_skill_berserker }
	
	remove_repetable_modifier = { TITLE = basic TYPE = explosive }
	remove_repetable_modifier = { TITLE = basic TYPE = kinetic }
	remove_repetable_modifier = { TITLE = basic TYPE = energy }
	remove_repetable_modifier = { TITLE = basic TYPE = gravity }
	remove_repetable_modifier = { TITLE = basic TYPE = psionic }
	remove_repetable_modifier = { TITLE = basic TYPE = anti_psionic }
	remove_repetable_modifier = { TITLE = basic TYPE = ancient_primary }
	remove_repetable_modifier = { TITLE = basic TYPE = titan_primary }
	remove_repetable_modifier = { TITLE = basic TYPE = titan_secondary }
	remove_repetable_modifier = { TITLE = basic TYPE = zeta_crisis_primary }
	remove_repetable_modifier = { TITLE = basic TYPE = zeta_crisis_primary_alt }
	remove_repetable_modifier = { TITLE = basic TYPE = zeta_crisis_secondary }
	remove_repetable_modifier = { TITLE = basic TYPE = SRA_SRA }
	remove_repetable_modifier = { TITLE = basic TYPE = SRA_RE_Core }
	remove_repetable_modifier = { TITLE = basic TYPE = H.D.energy }
	remove_repetable_modifier = { TITLE = basic TYPE = HD.M.kinetic }
	remove_repetable_modifier = { TITLE = basic TYPE = PrimaMateria }
	remove_repetable_modifier = { TITLE = basic TYPE = magicia }
	remove_repetable_modifier = { TITLE = basic TYPE = rulerule }
	remove_repetable_modifier = { TITLE = basic TYPE = fake_madoka }
	remove_repetable_modifier = { TITLE = basic TYPE = arcane }
	remove_repetable_modifier = { TITLE = basic TYPE = cosmic }
	remove_repetable_modifier = { TITLE = basic TYPE = light_power }
	remove_repetable_modifier = { TITLE = basic TYPE = wsg_pantsu }
	remove_repetable_modifier = { TITLE = basic TYPE = tesla }
	remove_repetable_modifier = { TITLE = basic TYPE = sr_uf }
	remove_repetable_modifier = { TITLE = basic TYPE = gungnir }
	remove_repetable_modifier = { TITLE = basic TYPE = xianzhe }
	remove_repetable_modifier = { TITLE = basic TYPE = knife }
	remove_repetable_modifier = { TITLE = basic TYPE = lingli }
	remove_repetable_modifier = { TITLE = basic TYPE = magic }
	remove_repetable_modifier = { TITLE = basic TYPE = nytowith }
	remove_repetable_modifier = { TITLE = basic TYPE = light }
	remove_repetable_modifier = { TITLE = basic TYPE = keto }
	remove_repetable_modifier = { TITLE = basic TYPE = Akso }
	remove_repetable_modifier = { TITLE = basic TYPE = LsScepter }
	remove_repetable_modifier = { TITLE = basic TYPE = son }
	remove_repetable_modifier = { TITLE = basic TYPE = prism }
	remove_repetable_modifier = { TITLE = basic TYPE = Electronic }
	remove_repetable_modifier = { TITLE = basic TYPE = beacon }
	remove_repetable_modifier = { TITLE = basic TYPE = aoe }
	remove_repetable_modifier = { TITLE = basic TYPE = kancolle }
	remove_repetable_modifier = { TITLE = basic TYPE = kancolle_shinkai }
	remove_repetable_modifier = { TITLE = basic TYPE = aon_rpg_attack }
	remove_repetable_modifier = { TITLE = basic TYPE = aon_rpg_magic }
	remove_repetable_modifier = { TITLE = basic TYPE = sfdoll }
	remove_repetable_modifier = { TITLE = basic TYPE = nano }
	remove_repetable_modifier = { TITLE = basic TYPE = KZ_VOY_magic }
	remove_repetable_modifier = { TITLE = basic TYPE = KZ_VOY_wind_magic }
	remove_repetable_modifier = { TITLE = basic TYPE = KZ_VOY_time_magic }
	remove_repetable_modifier = { TITLE = basic TYPE = KZ_VOY_earth_magic }
	remove_repetable_modifier = { TITLE = basic TYPE = KZ_VOY_pyromancy_magic }
	remove_repetable_modifier = { TITLE = basic TYPE = KZ_VOY_lightning_magic }
	remove_repetable_modifier = { TITLE = basic TYPE = KZ_VOY_bright_magic }
	remove_repetable_modifier = { TITLE = basic TYPE = KZ_VOY_dark_magic }
	remove_repetable_modifier = { TITLE = basic TYPE = KZ_VOY_space_magic }
	remove_repetable_modifier = { TITLE = basic TYPE = KZ_VOY_aqua_magic }
	remove_repetable_modifier = { TITLE = basic TYPE = KZ_VOY_life_magic }
	remove_repetable_modifier = { TITLE = basic TYPE = KZ_VOY_temporal }
	remove_repetable_modifier = { TITLE = basic TYPE = ge_void_energy }
	remove_repetable_modifier = { TITLE = basic TYPE = magi }
	remove_repetable_modifier = { TITLE = basic TYPE = charm }
	remove_repetable_modifier = { TITLE = basic TYPE = mystical }
	remove_repetable_modifier = { TITLE = basic TYPE = close_combat }
	remove_repetable_modifier = { TITLE = basic TYPE = critical }
	remove_repetable_modifier = { TITLE = basic TYPE = fgosw_block }
	remove_repetable_modifier = { TITLE = basic TYPE = fgosw_battle_continuation }
	remove_repetable_modifier = { TITLE = basic TYPE = fgosw_only_one }
	remove_repetable_modifier = { TITLE = basic TYPE = fgosw_multi_level }
	remove_repetable_modifier = { TITLE = basic TYPE = fgosw_skill_saber }
	remove_repetable_modifier = { TITLE = basic TYPE = fgosw_skill_archer }
	remove_repetable_modifier = { TITLE = basic TYPE = fgosw_skill_lancer }
	remove_repetable_modifier = { TITLE = basic TYPE = fgosw_skill_rider }
	remove_repetable_modifier = { TITLE = basic TYPE = fgosw_skill_caster }
	remove_repetable_modifier = { TITLE = basic TYPE = fgosw_skill_assassin }
	remove_repetable_modifier = { TITLE = basic TYPE = fgosw_skill_berserker }
}

remove_ship_modifier_trigger_flag = {
	fleet = { remove_fleet_flag = eternal_learned_leader }
	remove_ship_flag = fire_ship_var 
	remove_ship_flag = fire_ship_var_repeat
	remove_ship_flag = is_modifiering
}

set_fleet_modifier = {
	add_modifier = { modifier = $SUB$ days = $DAYS|-1$ }
	change_variable = { which = $SUB$_var value = 1 }
}

kuat_reduce_hp_percent = {
	optimize_memory
	export_trigger_value_to_variable = { trigger = has_hp variable = exist_hp_value }
	multiply_variable = { which = exist_hp_value value = 0.01 }
	multiply_variable = { which = exist_hp_value value = $value$ }
	reduce_hp = exist_hp_value clear_variable = exist_hp_value
}

kuat_set_epsilon_obelisk_code = {
	optimize_memory
	random_list = {
		10 = { set_planet_flag = kuat_epsilon_obelisk_$ag_obelisk_seq$_$ag_position$_0 event_target:global_event_country = { set_variable = { which = kuat_epsilon_obelisk_$ag_obelisk_seq$_$ag_position$ value = 0 } } }
		10 = { set_planet_flag = kuat_epsilon_obelisk_$ag_obelisk_seq$_$ag_position$_1 event_target:global_event_country = { set_variable = { which = kuat_epsilon_obelisk_$ag_obelisk_seq$_$ag_position$ value = 1 } } }
		10 = { set_planet_flag = kuat_epsilon_obelisk_$ag_obelisk_seq$_$ag_position$_2 event_target:global_event_country = { set_variable = { which = kuat_epsilon_obelisk_$ag_obelisk_seq$_$ag_position$ value = 2 } } }
		10 = { set_planet_flag = kuat_epsilon_obelisk_$ag_obelisk_seq$_$ag_position$_3 event_target:global_event_country = { set_variable = { which = kuat_epsilon_obelisk_$ag_obelisk_seq$_$ag_position$ value = 3 } } }
		10 = { set_planet_flag = kuat_epsilon_obelisk_$ag_obelisk_seq$_$ag_position$_4 event_target:global_event_country = { set_variable = { which = kuat_epsilon_obelisk_$ag_obelisk_seq$_$ag_position$ value = 4 } } }
		10 = { set_planet_flag = kuat_epsilon_obelisk_$ag_obelisk_seq$_$ag_position$_5 event_target:global_event_country = { set_variable = { which = kuat_epsilon_obelisk_$ag_obelisk_seq$_$ag_position$ value = 5 } } }
		10 = { set_planet_flag = kuat_epsilon_obelisk_$ag_obelisk_seq$_$ag_position$_6 event_target:global_event_country = { set_variable = { which = kuat_epsilon_obelisk_$ag_obelisk_seq$_$ag_position$ value = 6 } } }
		10 = { set_planet_flag = kuat_epsilon_obelisk_$ag_obelisk_seq$_$ag_position$_7 event_target:global_event_country = { set_variable = { which = kuat_epsilon_obelisk_$ag_obelisk_seq$_$ag_position$ value = 7 } } }
		10 = { set_planet_flag = kuat_epsilon_obelisk_$ag_obelisk_seq$_$ag_position$_8 event_target:global_event_country = { set_variable = { which = kuat_epsilon_obelisk_$ag_obelisk_seq$_$ag_position$ value = 8 } } }
		10 = { set_planet_flag = kuat_epsilon_obelisk_$ag_obelisk_seq$_$ag_position$_9 event_target:global_event_country = { set_variable = { which = kuat_epsilon_obelisk_$ag_obelisk_seq$_$ag_position$ value = 9 } } }
	}
}

kuat_upgrade_epsilon_obelisk = {
	optimize_memory
	if = {
		limit = { exists = owner }
		owner = { save_event_target_as = kuat_target_megastructure_owner }
		switch = {
			trigger = has_megastructure_flag
			kuat_epsilon_obelisk_1 = { solar_system = {
				spawn_megastructure = {
					type = kuat_epsilon_obelisk_$ag_target_level$
					coords_from = prev
					owner = event_target:kuat_target_megastructure_owner
					init_effect = { set_megastructure_flag = kuat_epsilon_obelisk_1 }
				}
			} }
			kuat_epsilon_obelisk_2 = { solar_system = {
				spawn_megastructure = {
					type = kuat_epsilon_obelisk_$ag_target_level$
					coords_from = prev
					owner = event_target:kuat_target_megastructure_owner
					init_effect = { set_megastructure_flag = kuat_epsilon_obelisk_2 }
				}
			} }
			kuat_epsilon_obelisk_3 = { solar_system = {
				spawn_megastructure = {
					type = kuat_epsilon_obelisk_$ag_target_level$
					coords_from = prev
					owner = event_target:kuat_target_megastructure_owner
					init_effect = { set_megastructure_flag = kuat_epsilon_obelisk_3 }
				}
			} }
		}
	}
	else = {
		switch = {
			trigger = has_megastructure_flag
			kuat_epsilon_obelisk_1 = { solar_system = {
				spawn_megastructure = {
					type = kuat_epsilon_obelisk_$ag_target_level$
					coords_from = prev
					init_effect = { set_megastructure_flag = kuat_epsilon_obelisk_1 }
				}
			} }
			kuat_epsilon_obelisk_2 = { solar_system = {
				spawn_megastructure = {
					type = kuat_epsilon_obelisk_$ag_target_level$
					coords_from = prev
					init_effect = { set_megastructure_flag = kuat_epsilon_obelisk_2 }
				}
			} }
			kuat_epsilon_obelisk_3 = { solar_system = {
				spawn_megastructure = {
					type = kuat_epsilon_obelisk_$ag_target_level$
					coords_from = prev
					init_effect = { set_megastructure_flag = kuat_epsilon_obelisk_3 }
				}
			} }
		}
	}
	remove_megastructure = this
}

#fromfromfrom: enemy fleet
#fromfrom: eternal fleet
kuat_copy_leader_learning_system = {
	optimize_memory
	if = {
		limit = { 
			fromfromfrom = { NOT = { has_fleet_flag = eternal_learned_leader } } 
			from = { is_ai = no }
		}
		fromfromfrom = {
			random_list = {
				1 = { 
					modifier = {
						set = 0
						OR = {
							NOT = { exists = leader }
							NOT = { leader_class = admiral }
							leader = { has_leader_flag = eternal_learned_leader }
						}
					}
					set_fleet_flag = eternal_learned_leader
					leader = { set_timed_leader_flag = { flag = eternal_learned_leader days = 180 } }
					root = {
						clone_leader = {
							class = admiral
							target = prev.leader
							effect = { save_event_target_as = eternal_learned_leader_copy }
						}
						fromfrom = {
							if = {
								limit = { NOT = { has_fleet_flag = have_learned_leader } }
								if = {
									limit = { exists = leader }
									leader = { kill_leader = { show_notification = no } }
								}
								assign_leader = event_target:eternal_learned_leader_copy
								set_timed_fleet_flag = { flag = have_learned_leader days = 180 }
							}
							else = { owner = { 
								random_controlled_fleet = {
									limit = { NOT = { has_fleet_flag = have_learned_leader } }
									if = {
										limit = { exists = leader }
										leader = { kill_leader = { show_notification = no } }
									}
									assign_leader = event_target:eternal_learned_leader_copy
									set_timed_fleet_flag = { flag = have_learned_leader days = 180 }
								}
							} }
						}
						from = { country_event = { id = exe_invasion.141 } }
					}
				}
				1 = {  
					modifier = {
						set = 0
						NOT = { any_controlled_ship = { check_modifier_value = { modifier = ship_hull_mult value > 2 } } }
					}
					every_controlled_ship = { if = { 
						limit = { check_modifier_value = { modifier = ship_hull_mult value > 2 } } 
						clear_ship_modifier = { modifier = ship_hull_mult subtract = 2 DAYS = -1 } 
					} }
				}
				1 = {
					modifier = {
						set = 100
						OR = {
							NOT = { exists = leader }
							NOT = { leader_class = admiral }
							leader = { has_leader_flag = eternal_learned_leader }
							NOT = { any_controlled_ship = { check_modifier_value = { modifier = ship_hull_mult value > 2 } } }
						}
					}
					no_events = yes
				}
			}
			reroll_random = yes
		}
	}
}

#scope: fleet
mult_half_variable = {
	set_variable = { which = $WHICH$_half value = $WHICH$ }
	multiply_variable = { which = $WHICH$_half value = $VALUE$ }
	floor_variable = $WHICH$_half
}