namespace = exe_dynamic

#easy
country_event = {
	id = exe_dynamic.1
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		from = { is_invisable_faction = no }
		has_country_flag = kuat_can_enable_dynamic_system_easy
		NOT = { has_country_flag = kuat_can_enable_dynamic_system_normal }
		from = { NOR = {
			has_country_flag = kuat_can_enable_dynamic_system_easy
			has_country_flag = kuat_can_enable_dynamic_system_normal
		} }
	}
	immediate = {
		fromfromfrom = { IF = { 
			limit = { NOT = { has_fleet_flag = random_list_eternal_fleet_rate_placeholder }  }
			set_fleet_flag = is_modifiering_fleet fleet_event = { id = exe_dynamic.2 } 
			set_timed_fleet_flag = { flag = random_list_eternal_fleet_rate_placeholder days = 1 }
		} }
		fromfrom = { IF = { 
			limit = { NOT = { has_fleet_flag = random_list_eternal_fleet_rate_placeholder }  }
			set_fleet_flag = is_modifiering_fleet fleet_event = { id = exe_dynamic.3 } 
			set_timed_fleet_flag = { flag = random_list_eternal_fleet_rate_placeholder days = 1 }
		} }
	}
}
fleet_event = { inline_script = { script = kuat_battle_event/kuat_exe_invasion_attake ID = exe_dynamic.2 KEY = kuat_battle_set_easy_eternal_fleet_mult_modifier } }
fleet_event = { inline_script = { script = kuat_battle_event/kuat_exe_invasion_battle ID = exe_dynamic.3 KEY = kuat_battle_set_easy_eternal_fleet_mult_modifier } }

#normal
country_event = {
	id = exe_dynamic.4
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		from = { is_invisable_faction = no }
		has_country_flag = kuat_can_enable_dynamic_system_normal
		NOT = { has_country_flag = kuat_can_enable_dynamic_system_easy }
		from = { NOR = {
			has_country_flag = kuat_can_enable_dynamic_system_easy
			has_country_flag = kuat_can_enable_dynamic_system_normal
		} }
	}
	immediate = {
		fromfromfrom = { IF = { 
			limit = { NOT = { has_fleet_flag = random_list_eternal_fleet_rate_placeholder }  }
			set_fleet_flag = is_modifiering_fleet fleet_event = { id = exe_dynamic.5 } 
			set_timed_fleet_flag = { flag = random_list_eternal_fleet_rate_placeholder days = 1 }
		} }
		fromfrom = { IF = { 
			limit = { NOT = { has_fleet_flag = random_list_eternal_fleet_rate_placeholder }  }
			set_fleet_flag = is_modifiering_fleet fleet_event = { id = exe_dynamic.6 } 
			set_timed_fleet_flag = { flag = random_list_eternal_fleet_rate_placeholder days = 1 }
		} }
	}
}
fleet_event = { inline_script = { script = kuat_battle_event/kuat_exe_invasion_attake ID = exe_dynamic.5 KEY = kuat_battle_set_normal_eternal_fleet_mult_modifier } }
fleet_event = { inline_script = { script = kuat_battle_event/kuat_exe_invasion_battle ID = exe_dynamic.6 KEY = kuat_battle_set_normal_eternal_fleet_mult_modifier } }

country_event = {
	id = exe_dynamic.7
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		is_player_country = yes
		from = { is_invisable_faction = no }
		fromfrom = { any_owned_ship = { check_modifier_value = {
			modifier = kuat_damage_control_modifier
			value > 0
		} } }
	}
	immediate = {
		fromfromfrom = { IF = { 
			limit = { NOT = { has_fleet_flag = random_list_eternal_fleet_rate_placeholder }  }
			set_fleet_flag = is_modifiering_fleet fleet_event = { id = exe_dynamic.9 } 
			set_timed_fleet_flag = { flag = random_list_eternal_fleet_rate_placeholder days = 1 }
		} }
		fromfrom = { IF = { 
			limit = { NOT = { has_fleet_flag = random_list_eternal_fleet_rate_placeholder }  }
			set_fleet_flag = is_modifiering_fleet fleet_event = { id = exe_dynamic.10 } 
			set_timed_fleet_flag = { flag = random_list_eternal_fleet_rate_placeholder days = 1 }
		} }
	}
}
fleet_event = { inline_script = { script = kuat_battle_event/kuat_exe_invasion_attake ID = exe_dynamic.9  KEY = kuat_battle_set_modifier_control_eternal_fleet_mult_modifier } }
fleet_event = { inline_script = { script = kuat_battle_event/kuat_exe_invasion_battle ID = exe_dynamic.10 KEY = kuat_battle_set_modifier_control_eternal_fleet_mult_modifier } }