namespace = exe_dynamic

#easy
country_event = {
	id = exe_dynamic.1
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		has_country_flag = kuat_can_enable_dynamic_system_easy
		NOT = { has_country_flag = kuat_can_enable_dynamic_system_normal }
		from = { NOR = {
			is_invisable_faction = yes 
			has_country_flag = kuat_can_enable_dynamic_system_easy
			has_country_flag = kuat_can_enable_dynamic_system_normal
		} }
	}
	immediate = {
		set_update_modifiers_batch = begin
		fromfromfrom = { every_owned_ship = { 
			limit = { NOT = { has_ship_flag = random_list_eternal_fleet_rate_placeholder }  }
			set_ship_flag = is_modifiering ship_event = { id = exe_dynamic.2 } 
			set_timed_ship_flag = { flag = random_list_eternal_fleet_rate_placeholder days = 1 }
		} }
		fromfrom = { every_owned_ship = { 
			limit = { NOT = { has_ship_flag = random_list_eternal_fleet_rate_placeholder }  }
			set_ship_flag = is_modifiering ship_event = { id = exe_dynamic.3 } 
			set_timed_ship_flag = { flag = random_list_eternal_fleet_rate_placeholder days = 1 }
		} }
		set_update_modifiers_batch = end
	}
}
ship_event = { inline_script = { script = kuat_battle_event/kuat_exe_invasion_attake ID = exe_dynamic.2 KEY = set_easy_eternal_fleet_mult_modifier } }
ship_event = { inline_script = { script = kuat_battle_event/kuat_exe_invasion_battle ID = exe_dynamic.3 KEY = set_easy_eternal_fleet_mult_modifier } }

#normal
country_event = {
	id = exe_dynamic.4
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		has_country_flag = kuat_can_enable_dynamic_system_normal
		NOT = { has_country_flag = kuat_can_enable_dynamic_system_easy }
		from = { NOR = {
			is_invisable_faction = yes 
			has_country_flag = kuat_can_enable_dynamic_system_easy
			has_country_flag = kuat_can_enable_dynamic_system_normal
		} }
	}
	immediate = {
		set_update_modifiers_batch = begin
		fromfromfrom = { every_owned_ship = { 
			limit = { NOT = { has_ship_flag = random_list_eternal_fleet_rate_placeholder }  }
			set_ship_flag = is_modifiering ship_event = { id = exe_dynamic.5 } 
			set_timed_ship_flag = { flag = random_list_eternal_fleet_rate_placeholder days = 1 }
		} }
		fromfrom = { every_owned_ship = { 
			limit = { NOT = { has_ship_flag = random_list_eternal_fleet_rate_placeholder }  }
			set_ship_flag = is_modifiering ship_event = { id = exe_dynamic.6 } 
			set_timed_ship_flag = { flag = random_list_eternal_fleet_rate_placeholder days = 1 }
		} }
		set_update_modifiers_batch = end
	}
}
ship_event = { inline_script = { script = kuat_battle_event/kuat_exe_invasion_attake ID = exe_dynamic.5 KEY = set_normal_eternal_fleet_mult_modifier } }
ship_event = { inline_script = { script = kuat_battle_event/kuat_exe_invasion_battle ID = exe_dynamic.6 KEY = set_normal_eternal_fleet_mult_modifier } }