namespace = kuat_extramonster_expand
planet_event = {
    id = kuat_extramonster_expand.1
    diplomatic = yes
    title = kuat_extramonster_expand.1.title
    desc = kuat_extramonster_expand.1.desc
    picture_event_data = { room = city_planet_room }
    custom_gui = "kuat_event_m_window"
    custom_gui_option = "kuat_event_m_option"
    is_triggered_only = yes
    trigger = {
        exists = owner
        NOT = { has_planet_flag = fired_will_be_add_habitable_plague }
        owner = { has_country_flag = enable_the_F_system_line_stage_4 }
        is_same_value = event_target:will_be_add_habitable_plague
    }
    immediate = {  
        owner = { start_situation = {
            type = situation_research_F_facility_technology
            target = this
        } }
        set_planet_flag = fired_will_be_add_habitable_plague
    }
    option = { name = kuat_extramonster_expand.1.a }
}

situation_event = {
    id = kuat_extramonster_expand.6
    title = kuat_extramonster_expand.6.name
    desc = kuat_extramonster_expand.6.desc
    picture = GFX_evt_engineering_cache
    show_sound = event_celebration
    is_triggered_only = yes
    location = target.capital_scope

    option = {
        name = situation_enlarge_research
        custom_tooltip = approach_outcome_tooltip
        set_situation_approach = "situation_enlarge_research"
        icon = {
            icon = GFX_situation_approach_research
            icon_background = GFX_situation_approach_bg_yellow
            text = set_situation_approach_icon_text
        }
        large_artifact_reward = yes
    }
    option = {
        name = situation_reduce_research
        custom_tooltip = approach_outcome_tooltip
        set_situation_approach = "situation_reduce_research"
        icon = {
            icon = GFX_situation_approach_research
            icon_background = GFX_situation_approach_bg_red
            text = set_situation_approach_icon_text
        }
        medium_artifact_reward = yes
    }
}

situation_event = {
    id = kuat_extramonster_expand.5
    title = kuat_extramonster_expand.5.name
    desc = kuat_extramonster_expand.5.desc
    picture = GFX_evt_ancient_databank
    show_sound = event_celebration
    is_triggered_only = yes
    location = target.capital_scope

    option = {
        name = situation_enlarge_research
        custom_tooltip = approach_outcome_tooltip
        set_situation_approach = "situation_enlarge_research"
        icon = {
            icon = GFX_situation_approach_research
            icon_background = GFX_situation_approach_bg_yellow
            text = set_situation_approach_icon_text
        }
        large_artifact_reward = yes
    }
    option = {
        name = situation_reduce_research
        custom_tooltip = approach_outcome_tooltip
        set_situation_approach = "situation_reduce_research"
        icon = {
            icon = GFX_situation_approach_research
            icon_background = GFX_situation_approach_bg_red
            text = set_situation_approach_icon_text
        }
        medium_artifact_reward = yes
    }
}

situation_event = {
    id = kuat_extramonster_expand.4
    title = kuat_extramonster_expand.4.name
    desc = kuat_extramonster_expand.4.desc
    picture = GFX_evt_ancient_databank
    show_sound = event_celebration
    is_triggered_only = yes
    location = target.capital_scope

    option = {
        name = situation_enlarge_research
        custom_tooltip = approach_outcome_tooltip
        set_situation_approach = "situation_enlarge_research"
        icon = {
            icon = GFX_situation_approach_research
            icon_background = GFX_situation_approach_bg_yellow
            text = set_situation_approach_icon_text
        }
        large_artifact_reward = yes
    }
    option = {
        name = situation_reduce_research
        custom_tooltip = approach_outcome_tooltip
        set_situation_approach = "situation_reduce_research"
        icon = {
            icon = GFX_situation_approach_research
            icon_background = GFX_situation_approach_bg_red
            text = set_situation_approach_icon_text
        }
        medium_artifact_reward = yes
    }
}

situation_event = {
    id = kuat_extramonster_expand.3
    title = kuat_extramonster_expand.3.name
    desc = kuat_extramonster_expand.3.desc
    picture = GFX_evt_ancient_databank
    show_sound = event_celebration
    is_triggered_only = yes
    location = target.capital_scope

    option = {
        name = situation_enlarge_research
        custom_tooltip = approach_outcome_tooltip
        set_situation_approach = "situation_enlarge_research"
        icon = {
            icon = GFX_situation_approach_research
            icon_background = GFX_situation_approach_bg_yellow
            text = set_situation_approach_icon_text
        }
        large_artifact_reward = yes
    }
    option = {
        name = situation_reduce_research
        custom_tooltip = approach_outcome_tooltip
        set_situation_approach = "situation_reduce_research"
        icon = {
            icon = GFX_situation_approach_research
            icon_background = GFX_situation_approach_bg_red
            text = set_situation_approach_icon_text
        }
        medium_artifact_reward = yes
    }
}

country_event = {
    id = kuat_extramonster_expand.2
    title = kuat_extramonster_expand.2.name
    desc = kuat_extramonster_expand.2.desc
    picture_event_data = { room = ancient_knowledge_room }
    custom_gui = "kuat_event_window"
    custom_gui_option = "kuat_event_option"
    diplomatic = yes
    show_sound = event_celebration
    is_triggered_only = yes

    option = {
        name = kuat_extramonster_expand.2.A
        hidden_effect = { while = {
            count = 8 add_random_research_option = { add_progress = 1 }
        } }
    }

    immediate = { set_country_flag = enable_the_F_system_line_stage_5 } #TODO

    after = {
        destroy_situation = event_target:situation_research_F_facility_technology_@root
    }
}

situation_event = {
    id = kuat_extramonster_expand.7
    title = kuat_extramonster_expand.7.name
    desc = kuat_extramonster_expand.7.desc
    picture = GFX_evt_engineering_cache
    show_sound = event_celebration
    is_triggered_only = yes
    location = target.capital_scope

    option = {
        name = situation_enlarge_research
        custom_tooltip = approach_outcome_tooltip
        set_situation_approach = "situation_enlarge_research"
        icon = {
            icon = GFX_situation_approach_research
            icon_background = GFX_situation_approach_bg_yellow
            text = set_situation_approach_icon_text
        }
        large_artifact_reward = yes
    }
    option = {
        name = situation_reduce_research
        custom_tooltip = approach_outcome_tooltip
        set_situation_approach = "situation_reduce_research"
        icon = {
            icon = GFX_situation_approach_research
            icon_background = GFX_situation_approach_bg_red
            text = set_situation_approach_icon_text
        }
        medium_artifact_reward = yes
    }
}