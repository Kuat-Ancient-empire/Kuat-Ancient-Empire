namespace = kuat_extramonster_expand
planet_event = {
    id = kuat_extramonster_expand.1
    diplomatic = yes
    title = kuat_extramonster_expand.1.title
    desc = kuat_extramonster_expand.1.desc
    picture_event_data = { room = city_planet_room }
    custom_gui = "kuat_event_m_window"
    custom_gui_option = "kuat_event_m_option"
    is_triggered_only = yes
    trigger = {
        exists = owner
        NOT = { has_planet_flag = fired_will_be_add_habitable_plague }
        owner = { has_country_flag = enable_the_F_system_line_stage_4 }
        is_same_value = event_target:will_be_add_habitable_plague
    }
    immediate = {  
        owner = { start_situation = {
            type = situation_research_F_facility_technology
            target = this
        } }
        set_planet_flag = fired_will_be_add_habitable_plague
    }
    option = { name = kuat_extramonster_expand.1.a }
}

situation_event = {
    id = kuat_extramonster_expand.6
    title = kuat_extramonster_expand.6.name
    desc = kuat_extramonster_expand.6.desc
    picture = GFX_evt_engineering_cache
    show_sound = event_celebration
    is_triggered_only = yes
    location = target.capital_scope

    option = {
        name = situation_enlarge_research
        custom_tooltip = approach_outcome_tooltip
        set_situation_approach = "situation_enlarge_research"
        icon = {
            icon = GFX_situation_approach_research
            icon_background = GFX_situation_approach_bg_yellow
            text = set_situation_approach_icon_text
        }
        large_artifact_reward = yes
    }
    option = {
        name = situation_reduce_research
        custom_tooltip = approach_outcome_tooltip
        set_situation_approach = "situation_reduce_research"
        icon = {
            icon = GFX_situation_approach_research
            icon_background = GFX_situation_approach_bg_red
            text = set_situation_approach_icon_text
        }
        medium_artifact_reward = yes
    }
}

situation_event = {
    id = kuat_extramonster_expand.5
    title = kuat_extramonster_expand.5.name
    desc = kuat_extramonster_expand.5.desc
    picture = GFX_evt_ancient_databank
    show_sound = event_celebration
    is_triggered_only = yes
    location = target.capital_scope

    option = {
        name = situation_enlarge_research
        custom_tooltip = approach_outcome_tooltip
        set_situation_approach = "situation_enlarge_research"
        icon = {
            icon = GFX_situation_approach_research
            icon_background = GFX_situation_approach_bg_yellow
            text = set_situation_approach_icon_text
        }
        large_artifact_reward = yes
    }
    option = {
        name = situation_reduce_research
        custom_tooltip = approach_outcome_tooltip
        set_situation_approach = "situation_reduce_research"
        icon = {
            icon = GFX_situation_approach_research
            icon_background = GFX_situation_approach_bg_red
            text = set_situation_approach_icon_text
        }
        medium_artifact_reward = yes
    }
}

situation_event = {
    id = kuat_extramonster_expand.4
    title = kuat_extramonster_expand.4.name
    desc = kuat_extramonster_expand.4.desc
    picture = GFX_evt_ancient_databank
    show_sound = event_celebration
    is_triggered_only = yes
    location = target.capital_scope

    option = {
        name = situation_enlarge_research
        custom_tooltip = approach_outcome_tooltip
        set_situation_approach = "situation_enlarge_research"
        icon = {
            icon = GFX_situation_approach_research
            icon_background = GFX_situation_approach_bg_yellow
            text = set_situation_approach_icon_text
        }
        large_artifact_reward = yes
    }
    option = {
        name = situation_reduce_research
        custom_tooltip = approach_outcome_tooltip
        set_situation_approach = "situation_reduce_research"
        icon = {
            icon = GFX_situation_approach_research
            icon_background = GFX_situation_approach_bg_red
            text = set_situation_approach_icon_text
        }
        medium_artifact_reward = yes
    }
}

situation_event = {
    id = kuat_extramonster_expand.3
    title = kuat_extramonster_expand.3.name
    desc = kuat_extramonster_expand.3.desc
    picture = GFX_evt_ancient_databank
    show_sound = event_celebration
    is_triggered_only = yes
    location = target.capital_scope

    option = {
        name = situation_enlarge_research
        custom_tooltip = approach_outcome_tooltip
        set_situation_approach = "situation_enlarge_research"
        icon = {
            icon = GFX_situation_approach_research
            icon_background = GFX_situation_approach_bg_yellow
            text = set_situation_approach_icon_text
        }
        large_artifact_reward = yes
    }
    option = {
        name = situation_reduce_research
        custom_tooltip = approach_outcome_tooltip
        set_situation_approach = "situation_reduce_research"
        icon = {
            icon = GFX_situation_approach_research
            icon_background = GFX_situation_approach_bg_red
            text = set_situation_approach_icon_text
        }
        medium_artifact_reward = yes
    }
}

country_event = {
    id = kuat_extramonster_expand.2
    title = kuat_extramonster_expand.2.name
    desc = kuat_extramonster_expand.2.desc
    picture_event_data = { room = ancient_knowledge_room }
    custom_gui = "kuat_event_window"
    custom_gui_option = "kuat_event_option"
    diplomatic = yes
    show_sound = event_celebration
    is_triggered_only = yes

    option = {
        name = kuat_extramonster_expand.2.A
        hidden_effect = { while = {
            count = 8 add_random_research_option = { add_progress = 1 }
        } }
    }

    immediate = {
        set_country_flag = enable_the_F_system_line_stage_5
        country_event = { id = kuat_extramonster_expand.8 days = 120 random = 45 }
        country_event = { id = kuat_extramonster_expand.20 days = 45  random = 45 }
    }

    after = {
        destroy_situation = event_target:situation_research_F_facility_technology
    }
}

situation_event = {
    id = kuat_extramonster_expand.7
    title = kuat_extramonster_expand.7.name
    desc = kuat_extramonster_expand.7.desc
    picture = GFX_evt_engineering_cache
    show_sound = event_celebration
    is_triggered_only = yes
    location = target.capital_scope

    option = {
        name = situation_enlarge_research
        custom_tooltip = approach_outcome_tooltip
        set_situation_approach = "situation_enlarge_research"
        icon = {
            icon = GFX_situation_approach_research
            icon_background = GFX_situation_approach_bg_yellow
            text = set_situation_approach_icon_text
        }
        large_artifact_reward = yes
    }
    option = {
        name = situation_reduce_research
        custom_tooltip = approach_outcome_tooltip
        set_situation_approach = "situation_reduce_research"
        icon = {
            icon = GFX_situation_approach_research
            icon_background = GFX_situation_approach_bg_red
            text = set_situation_approach_icon_text
        }
        medium_artifact_reward = yes
    }
}

country_event = {
    id = kuat_extramonster_expand.8
    title = kuat_extramonster_expand.8.name
    desc = kuat_extramonster_expand.8.desc
    picture_event_data = { room = exploding_ship_room }
    custom_gui = "kuat_event_m_window"
    custom_gui_option = "kuat_event_m_option"
    diplomatic = yes
    show_sound = event_airlock
    is_triggered_only = yes
    trigger = { has_country_flag = enable_the_F_system_line_stage_5 }
    option = {
        name = kuat_extramonster_expand.8.a
        hidden_effect = {
            enable_special_project = {
                name = exe_enable_the_F_system_line_stage_5
                location = event_target:will_be_add_habitable_plague
                owner = root
            }
            set_country_flag = enable_the_F_system_line_stage_6
        }
    }
}

country_event = {
    id = kuat_extramonster_expand.9
    title = kuat_extramonster_expand.9.name
    desc = kuat_extramonster_expand.9.desc
    picture_event_data = { room = black_hole_room }
    custom_gui = "kuat_event_m_window"
    custom_gui_option = "kuat_event_m_option"
    diplomatic = yes
    show_sound = event_airlock
    is_triggered_only = yes
    trigger = { has_country_flag = enable_the_F_system_line_stage_6 }
    option = {
        name = kuat_extramonster_expand.9.a
        hidden_effect = { 
            owner = { save_event_target_as = interesting_country }
            capital_scope = { spawn_system = { initializer = myst_system_6 hyperlane = no } } 
        }
    }
}

ship_event = {
    id = kuat_extramonster_expand.10
    title = kuat_extramonster_expand.10.name
    desc = kuat_extramonster_expand.10.desc
    picture_event_data = { room = astral_rift_whiteout_2_room }
    custom_gui = "kuat_event_window"
    custom_gui_option = "kuat_event_option"
    diplomatic = yes
    show_sound = event_airlock
    is_triggered_only = yes
    trigger = {
        fromfrom = {
            has_country_flag = enable_the_F_system_line_stage_6
            NOT = { has_country_flag = kuat_extramonster_expand.10_once }
        }
        from = { has_star_flag = myst_system_6 }
    }
    immediate = { fromfrom = { set_country_flag = kuat_extramonster_expand.10_once } }
    option = {
        name = kuat_extramonster_expand.10.a
        hidden_effect = { event_target:exe_outer_gate_G_facility = { create_archaeological_site = site_F_systeam } }
    }
}

fleet_event = {
    id = kuat_extramonster_expand.11
    title = "kuat_extramonster_expand.11.name"
    desc = "kuat_extramonster_expand.11.desc"
    picture = GFX_evt_relic_world_building
    show_sound = event_wind_ruins

    archaeology = yes

    is_triggered_only = yes

    immediate = {
        from = { set_site_progress_locked = yes }
    }

    after = {
        from = { set_site_progress_locked = no }
    }

    option = {
        name = kuat_extramonster_expand.11.a
        small_artifact_reward = yes
    }
}

fleet_event = {
    id = kuat_extramonster_expand.12
    title = "kuat_extramonster_expand.12.name"
    desc = "kuat_extramonster_expand.12.desc"
    picture = GFX_evt_relic_world_street
    show_sound = event_wind_ruins

    archaeology = yes

    is_triggered_only = yes

    immediate = {
        from = { set_site_progress_locked = yes }
    }

    after = {
        from = { set_site_progress_locked = no }
    }

    option = {
        name = kuat_extramonster_expand.12.a
        medium_artifact_reward = yes
    }
}

fleet_event = {
    id = kuat_extramonster_expand.13
    title = "kuat_extramonster_expand.13.name"
    desc = "kuat_extramonster_expand.13.desc"
    picture = GFX_evt_ancient_databank
    show_sound = event_wind_ruins

    archaeology = yes

    is_triggered_only = yes

    immediate = {
        from = { 
            set_site_progress_locked = yes 
            save_global_event_target_as = kuat_extramonster_expand_stuck
        }
    }

    after = {
        owner = { 
            country_event = { 
                id = kuat_extramonster_expand.16 
                scopes = { from = root.from } 
            } 
        }
    }

    option = {
        name = kuat_extramonster_expand.13.a
        large_artifact_reward = yes
    }
}

fleet_event = {
    id = kuat_extramonster_expand.14
    title = "kuat_extramonster_expand.14.name"
    desc = "kuat_extramonster_expand.14.desc"
    picture = GFX_evt_sapient_AI
    show_sound = event_wind_ruins

    archaeology = yes

    is_triggered_only = yes

    immediate = {
        from = { set_site_progress_locked = yes }
    }

    after = {
        from = { set_site_progress_locked = no }
    }

    option = {
        name = kuat_extramonster_expand.14.a
        large_artifact_reward = yes
    }
}

fleet_event = {
    id = kuat_extramonster_expand.15
    title = "kuat_extramonster_expand.15.name"
    desc = "kuat_extramonster_expand.15.desc"
    picture = GFX_evt_ship_travel
    show_sound = event_wind_ruins

    archaeology = yes

    is_triggered_only = yes

    immediate = {
        from = { set_site_progress_locked = yes }
    }

    after = {
        from = { set_site_progress_locked = no }
    }

    option = {
        name = kuat_extramonster_expand.15.a
        large_artifact_reward = yes
        hidden_effect = { root.owner = { 
            enable_special_project = {
                name = exe_enable_the_F_system_line_stage_8
                location = event_target:will_be_add_habitable_plague
                owner = this
            }
            set_country_flag = enable_the_F_system_line_stage_8 
        } }
    }
}

country_event = {
    id = kuat_extramonster_expand.16
    title = "kuat_extramonster_expand.16.name"
    desc = "kuat_extramonster_expand.16.desc"
    picture_event_data = { room = no_video_feed_room }
    custom_gui = "kuat_event_diplomacy_window"
    custom_gui_option = "kuat_event_diplomacy_option"
    is_triggered_only = yes
    diplomatic = yes
    trigger = { 
        exists = event_target:kuat_contractor_country
        from = { is_same_value = event_target:kuat_extramonster_expand_stuck }
    }
    option = {
        name = kuat_extramonster_expand.16.a
        response_text = kuat_extramonster_expand.16.a.res
    }
    after = {
        enable_special_project = {
            name = exe_enable_the_F_system_line_stage_7
            location = event_target:will_be_add_habitable_plague owner = root
        }
        set_country_flag = enable_the_F_system_line_stage_7
    }
}

country_event = {
    id = kuat_extramonster_expand.17
    title = "kuat_extramonster_expand.17.name"
    desc = "kuat_extramonster_expand.17.desc"
    picture_event_data = { room = no_video_feed_room }
    custom_gui = "kuat_event_diplomacy_window"
    custom_gui_option = "kuat_event_diplomacy_option"
    is_triggered_only = yes
    diplomatic = yes
    trigger = {
        is_player_country = yes
        exists = event_target:kuat_contractor_country
        exists = event_target:kuat_extramonster_expand_stuck 
    }
    option = {
        name = kuat_extramonster_expand.17.a
        response_text = kuat_extramonster_expand.17.a.res
    }
    after = {
        event_target:kuat_extramonster_expand_stuck = { set_site_progress_locked = no }
    }
}

country_event = {
    id = kuat_extramonster_expand.18
    title = "kuat_extramonster_expand.18.name"
    desc = "kuat_extramonster_expand.18.desc"
    picture_event_data = { room = no_video_feed_room }
    custom_gui = "kuat_event_diplomacy_window"
    custom_gui_option = "kuat_event_diplomacy_option"
    is_triggered_only = yes
    diplomatic = yes
    trigger = {
        is_player_country = yes
        exists = event_target:kuat_contractor_country
        has_country_flag = enable_the_F_system_line_stage_8
    }
    immediate = { set_country_flag = enable_the_F_system_line_stage_9 }
    option = {
        name = kuat_extramonster_expand.18.a
        response_text = kuat_extramonster_expand.18.a.res
    }
    after = {
        enable_special_project = {
            name = exe_enable_the_F_system_line_stage_9
            location = event_target:exe_outer_gate_G_facility
            owner = root
        }
    }
}

country_event = {
    id = kuat_extramonster_expand.19
    title = "kuat_extramonster_expand.19.name"
    desc = "kuat_extramonster_expand.19.desc"
    picture_event_data = { room = astral_rift_whiteout_2_room }
    custom_gui = "kuat_event_m_window"
    custom_gui_option = "kuat_event_m_option"
    is_triggered_only = yes
    diplomatic = yes
    trigger = {
        is_player_country = yes
        has_country_flag = enable_the_F_system_line_stage_9
        has_megastructure = exe_outer_gate_G_facility
    }
    immediate = {
        set_country_flag = enable_the_F_system_line_stage_10
        set_country_flag = kuat_research_Name_boss_crisis_DC_BOSS_building_research
    }
    option = { name = kuat_extramonster_expand.19.a }
}

country_event = {
    id = kuat_extramonster_expand.20
    title = kuat_extramonster_expand.20.name
    desc = kuat_extramonster_expand.20.desc
    picture_event_data = { room = astral_rift_tiny_planet_room }
    custom_gui = "kuat_event_window"
    custom_gui_option = "kuat_event_option"
    diplomatic = yes
    show_sound = event_yellow_alert
    is_triggered_only = yes
    trigger = {  
        has_country_flag = enable_the_F_system_line_stage_5
        NOT = { has_country_flag = fired_kuat_extramonster_expand.20_once }
    }
    immediate = {
        set_country_flag = fired_kuat_extramonster_expand.20_once
    }
    option = {
        name = kuat_extramonster_expand.20.a
        hidden_effect = { country_event = { id = kuat_extramonster_expand.21 } }
    }
}

country_event = {
    id = kuat_extramonster_expand.21
    title = kuat_extramonster_expand.21.name
    desc = kuat_extramonster_expand.21.desc
    picture_event_data = { room = astral_rift_tower_invitation_room }
    custom_gui = "kuat_event_window"
    custom_gui_option = "kuat_event_option"
    diplomatic = yes
    show_sound = event_yellow_alert
    is_triggered_only = yes
    immediate = {
        set_country_flag = enable_the_F_system_line_stage_11
        enable_special_project = {
            name = exe_enable_the_F_system_line_stage_10
            location = capital_scope
            owner = root
        }
    }
    option = { name = kuat_extramonster_expand.21.a }
}

country_event = {
    id = kuat_extramonster_expand.22
    title = kuat_extramonster_expand.22.name
    desc = kuat_extramonster_expand.22.desc
    picture_event_data = { room = astral_rift_tower_invitation_room }
    custom_gui = "kuat_event_window"
    custom_gui_option = "kuat_event_option"
    diplomatic = yes
    show_sound = event_yellow_alert
    is_triggered_only = yes
    option = {
        name = kuat_extramonster_expand.22.a
        hidden_effect = {  
            random_owned_leader = {
                limit = { 
                    leader_class = scientist 
                    NOT = { has_trait = leader_kuat_species_trait_mechinicals }
                }
                add_trait = leader_kuat_species_trait_mechinicals
            }
            enable_special_project = {
                name = exe_enable_the_F_system_line_stage_11
                location = capital_scope
                owner = root
            }
        }
    }
    option = { name = kuat_extramonster_expand.22.b }
}

country_event = {
    id = kuat_extramonster_expand.23
    title = kuat_extramonster_expand.23.name
    desc = kuat_extramonster_expand.23.desc
    picture_event_data = { room = astral_rift_siege_on_paradise_baol_room }
    custom_gui = "kuat_event_m_window"
    custom_gui_option = "kuat_event_m_option"
    diplomatic = yes
    show_sound = event_yellow_alert
    is_triggered_only = yes
    option = {
        name = kuat_extramonster_expand.23.a
        hidden_effect = {
            set_update_modifiers_batch = begin
            if = {
                limit = { NOT = { is_variable_set = kuat_extramonster_expand_temple_pop } }
                set_variable = {
                    which = kuat_extramonster_expand_temple_pop
                    value = trigger:kuat_pop_group
                }
                multiply_variable = { which = kuat_extramonster_expand_temple_pop value = 0.2 }
            }
            while = {
                count = kuat_extramonster_expand_temple_pop
                random_owned_pop_group = {
                    limit = { 
                        species = { NOR = {
                            has_trait = kuat_species_trait_mechinical
                            is_archetype = LITHOID
                            is_archetype = MACHINE
                            is_archetype = ROBOT
                        } }
                    }
                    modify_species = { add_trait = kuat_species_trait_mechinical species = this }
                    set_pop_flag = has_kuat_species_trait_mechinical
                }
            }
            clear_variable = kuat_extramonster_expand_temple_pop
            set_update_modifiers_batch = end
        }
    }
}

fleet_event = {
    id = kuat_extramonster_expand.24
    title = "kuat_extramonster_expand.24.name"
    desc = "kuat_extramonster_expand.24.desc"
    picture = GFX_evt_astral_rift_genesis_3
    show_sound = event_wind_ruins

    archaeology = yes

    is_triggered_only = yes

    immediate = {
        from = { set_site_progress_locked = yes }
    }

    after = {
        from = { set_site_progress_locked = no }
    }

    option = {
        name = kuat_extramonster_expand.24.a
        small_artifact_reward = yes
    }
}

fleet_event = {
    id = kuat_extramonster_expand.25
    title = "kuat_extramonster_expand.25.name"
    desc = "kuat_extramonster_expand.25.desc"
    picture = GFX_evt_astral_rift_dimensional_dump
    show_sound = event_wind_ruins

    archaeology = yes

    is_triggered_only = yes

    immediate = {
        from = { set_site_progress_locked = yes }
    }

    after = {
        from = { set_site_progress_locked = no }
    }

    option = {
        name = kuat_extramonster_expand.25.a
        medium_artifact_reward = yes
    }
}

fleet_event = {
    id = kuat_extramonster_expand.26
    title = "kuat_extramonster_expand.26.name"
    desc = "kuat_extramonster_expand.26.desc"
    picture = GFX_evt_relic_world_street
    show_sound = event_wind_ruins

    archaeology = yes

    is_triggered_only = yes

    immediate = {
        from = { set_site_progress_locked = yes }
    }

    after = {
        from = { set_site_progress_locked = no }
    }

    option = {
        name = kuat_extramonster_expand.26.a
        large_artifact_reward = yes
    }
}

fleet_event = {
    id = kuat_extramonster_expand.27
    title = "kuat_extramonster_expand.27.name"
    desc = "kuat_extramonster_expand.27.desc"
    picture = GFX_evt_star_neutron
    show_sound = event_wind_ruins

    archaeology = yes

    is_triggered_only = yes

    immediate = {
        from = { set_site_progress_locked = yes }
    }

    after = {
        from = { set_site_progress_locked = no }
    }

    option = {
        name = kuat_extramonster_expand.27.a
        large_artifact_reward = yes
    }
}

fleet_event = {
    id = kuat_extramonster_expand.28
    title = "kuat_extramonster_expand.28.name"
    desc = "kuat_extramonster_expand.28.desc"
    picture = GFX_evt_in_the_dark
    show_sound = event_wind_ruins

    archaeology = yes

    is_triggered_only = yes

    immediate = {
        from = { set_site_progress_locked = yes }
    }

    after = {
        from = { set_site_progress_locked = no }
    }

    option = {
        name = kuat_extramonster_expand.28.a
        large_artifact_reward = yes
    }
}

fleet_event = {
    id = kuat_extramonster_expand.29
    title = "kuat_extramonster_expand.29.name"
    desc = "kuat_extramonster_expand.29.desc"
    picture = GFX_evt_ship_offloading_cargo
    show_sound = event_wind_ruins

    archaeology = yes

    is_triggered_only = yes

    immediate = {
        from = { set_site_progress_locked = yes }
    }

    after = {
        from = { set_site_progress_locked = no }
    }

    option = {
        name = kuat_extramonster_expand.29.a
        hidden_effect = {
            random_galaxy_planet = {
                limit = { is_star = no is_colony = no is_colonizable = no }
                set_name = {
                    key = KUAT_LEADER_SAVE
                    variable_string = "[Root.Leader.GetName]"
                }
                save_global_event_target_as = kuat_leader_save_planet
            }
            root.owner = { country_event = { id = kuat_extramonster_expand.30 days = 1 } }
        }
        kill_leader = { show_notification = no }
        large_artifact_reward = yes
    }
}

country_event = {
    id = kuat_extramonster_expand.30
    title = "kuat_extramonster_expand.30.name"
    desc = "kuat_extramonster_expand.30.desc"
    picture_event_data = { room = no_video_feed_room }
    custom_gui = "kuat_event_diplomacy_window"
    custom_gui_option = "kuat_event_diplomacy_option"
    diplomatic = yes
    is_triggered_only = yes
    trigger = {
        is_player_country = yes
        has_country_flag = enable_the_F_system_line_stage_11
    }
    option = { 
        name = kuat_extramonster_expand.a 
        hidden_effect = {
            enable_special_project = {
                name = exe_enable_the_F_system_line_stage_12
                location = root.capital_scope
                owner = root
            }
            set_country_flag = enable_the_F_system_line_stage_12
        }
    }
}

country_event = {
    id = kuat_extramonster_expand.31
    title = "kuat_extramonster_expand.31.name"
    desc = "kuat_extramonster_expand.31.desc"
    picture_event_data = { room = ancient_knowledge_room }
    custom_gui = "kuat_event_window"
    custom_gui_option = "kuat_event_option"
    diplomatic = yes
    show_sound = event_celebration
    is_triggered_only = yes
    trigger = {
        is_player_country = yes
        has_country_flag = enable_the_F_system_line_stage_12
    }
    option = { 
        name = kuat_extramonster_expand.31.a 
        hidden_effect = { set_country_flag = kuat_research_Name_boss_crisis_DB_BOSS_building_research }
    }
}

#节点功能 加科技必要
country_event = {
    id = kuat_extramonster_expand.32
    title = "kuat_extramonster_expand.32.name"
    desc = "kuat_extramonster_expand.32.desc"
    picture_event_data = { room = ancient_knowledge_room }
    custom_gui = "kuat_event_research_diplomacy_window"
    custom_gui_option = "kuat_event_research_diplomacy_option"
    diplomatic = yes
    #show_sound = event_energy_field
    is_triggered_only = yes

    trigger = {
        is_player_country = yes
    }

    option = {
        name = kuat_extramonster_expand.32.a
        hidden_effect = { 
            kuat_clear_all_research_system_perc = { TECH = tech_repeatable_weapon_type_energy_damage TECH_AREA = physics ID = 1000 }
            kuat_clear_all_research_system_perc = { TECH = tech_repeatable_weapon_type_energy_fire_rate TECH_AREA = physics ID = 1001 }
            kuat_clear_all_research_system_perc = { TECH = tech_repeatable_weapon_type_explosive_damage TECH_AREA = physics ID = 2000 }
            kuat_clear_all_research_system_perc = { TECH = tech_repeatable_weapon_type_explosive_fire_rate TECH_AREA = physics ID = 2001 }
            country_event = { id = kuat_extramonster_expand.32 }
        }
    }
    inline_script = { 
        script = kuat_reasearch_event/kuat_system_research_repeatable_options 
        TECH = tech_repeatable_weapon_type_energy_damage 
        TECH_AREA = physics TECH_MODIFIER = weapon_type_energy_weapon_damage_mult
        ID = 1000
    }
    inline_script = { 
        script = kuat_reasearch_event/kuat_system_research_repeatable_options 
        TECH = tech_repeatable_weapon_type_energy_fire_rate 
        TECH_AREA = physics TECH_MODIFIER = weapon_type_energy_weapon_fire_rate_mult
        ID = 1001
    }
    inline_script = { 
        script = kuat_reasearch_event/kuat_system_research_repeatable_options 
        TECH = tech_repeatable_weapon_type_explosive_damage 
        TECH_AREA = physics TECH_MODIFIER = weapon_type_explosive_weapon_damage_mult
        ID = 2000
    }
    inline_script = { 
        script = kuat_reasearch_event/kuat_system_research_repeatable_options 
        TECH = tech_repeatable_weapon_type_explosive_fire_rate 
        TECH_AREA = physics TECH_MODIFIER = weapon_type_explosive_weapon_fire_rate_mult
        ID = 2001
    }
    option = { name = "exe_invasion_return" hidden_effect = { country_event = { id = kuat_extramonster_expand.34 } } }
}

country_event = {
    id = kuat_extramonster_expand.35
    title = "kuat_extramonster_expand.32.name"
    desc = "kuat_extramonster_expand.32.desc"
    picture_event_data = { room = ancient_knowledge_room }
    custom_gui = "kuat_event_research_diplomacy_window"
    custom_gui_option = "kuat_event_research_diplomacy_option"
    diplomatic = yes
   # show_sound = event_energy_field
    is_triggered_only = yes

    trigger = {
        is_player_country = yes
    }

    option = {
        name = kuat_extramonster_expand.32.a
        hidden_effect = { 
            kuat_clear_all_research_system_perc = { TECH = tech_repeatable_weapon_type_strike_craft_fire_damage TECH_AREA = society ID = 2000 }
            kuat_clear_all_research_system_perc = { TECH = tech_repeatable_weapon_type_strike_craft_fire_rate TECH_AREA = society ID = 2001 }
            country_event = { id = kuat_extramonster_expand.35 } 
        }
    }
    inline_script = {
        script = kuat_reasearch_event/kuat_system_research_normal_options
        REQ_VALUE = 200000
        TECH_AREA = society KEY = find_solar_system_endodia
        ID = 1000
    }
    inline_script = { 
        script = kuat_reasearch_event/kuat_system_research_repeatable_options 
        TECH = tech_repeatable_weapon_type_strike_craft_fire_damage 
        TECH_AREA = society TECH_MODIFIER = weapon_type_strike_craft_weapon_damage_mult
        ID = 2000
    }
    inline_script = { 
        script = kuat_reasearch_event/kuat_system_research_repeatable_options 
        TECH = tech_repeatable_weapon_type_strike_craft_fire_rate 
        TECH_AREA = society TECH_MODIFIER = weapon_type_strike_craft_weapon_fire_rate_mult
        ID = 2001
    }
    option = { name = "exe_invasion_return" hidden_effect = { country_event = { id = kuat_extramonster_expand.34 } } }
}

country_event = {
    id = kuat_extramonster_expand.36
    title = "kuat_extramonster_expand.32.name"
    desc = "kuat_extramonster_expand.32.desc"
    picture_event_data = { room = ancient_knowledge_room }
    custom_gui = "kuat_event_research_diplomacy_window"
    custom_gui_option = "kuat_event_research_diplomacy_option"
    diplomatic = yes
   # show_sound = event_energy_field
    is_triggered_only = yes

    trigger = {
        is_player_country = yes
    }

    option = {
        name = kuat_extramonster_expand.32.a
        hidden_effect = { 
            kuat_clear_all_research_system_perc = { TECH = tech_repeatable_weapon_type_kinetic_damage TECH_AREA = engineering ID = 3000 }
            kuat_clear_all_research_system_perc = { TECH = tech_repeatable_weapon_type_kinetic_fire_rate TECH_AREA = engineering ID = 3001 }
            country_event = { id = kuat_extramonster_expand.36 } 
        }
    }
    inline_script = { 
        script = kuat_reasearch_event/kuat_system_research_normal_options 
        REQ_VALUE = 1000000 
        TECH_AREA = engineering KEY = Name_boss_crisis_DC_BOSS
        ID = 1000
    }
    inline_script = { 
        script = kuat_reasearch_event/kuat_system_research_normal_options 
        REQ_VALUE = 2000000 
        TECH_AREA = engineering KEY = Name_boss_crisis_DB_BOSS
        ID = 1001
    }
    inline_script = { 
        script = kuat_reasearch_event/kuat_system_research_normal_options 
        REQ_VALUE = 3000000 
        TECH_AREA = engineering KEY = Name_boss_crisis_DF_BOSS
        ID = 1002
    }
    inline_script = { 
        script = kuat_reasearch_event/kuat_system_research_normal_options 
        REQ_VALUE = 2000000 
        TECH_AREA = engineering KEY = Name_boss_crisis_SP_BOSS
        ID = 1003
    }
    inline_script = { 
        script = kuat_reasearch_event/kuat_system_research_normal_options 
        REQ_VALUE = 1000000 
        TECH_AREA = engineering KEY = Name_boss_crisis_SPC_BOSS
        ID = 1004
    }
    inline_script = { 
        script = kuat_reasearch_event/kuat_system_research_normal_options 
        REQ_VALUE = 3000000 
        TECH_AREA = engineering KEY = Name_boss_crisis_SPF_BOSS
        ID = 1005
    }
    inline_script = { 
        script = kuat_reasearch_event/kuat_system_research_repeatable_options 
        TECH = tech_repeatable_weapon_type_kinetic_damage 
        TECH_AREA = engineering TECH_MODIFIER = weapon_type_kinetic_weapon_damage_mult
        ID = 3000
    }
    inline_script = { 
        script = kuat_reasearch_event/kuat_system_research_repeatable_options 
        TECH = tech_repeatable_weapon_type_kinetic_fire_rate 
        TECH_AREA = engineering TECH_MODIFIER = weapon_type_kinetic_weapon_fire_rate_mult
        ID = 3001
    }
    option = { name = "exe_invasion_return" hidden_effect = { country_event = { id = kuat_extramonster_expand.34 } } }
}

#加科技必要 月检查
country_event = {
    id = kuat_extramonster_expand.33
    hide_window = yes
    is_triggered_only = yes
    trigger = { kuat_is_any_researching = { ALL = yes } }
    immediate = {
        inline_script = { 
            script = kuat_reasearch_event/kuat_system_research_repeatable_Config 
            TECH = tech_repeatable_weapon_type_energy_damage 
            TECH_AREA = physics TECH_MODIFIER = weapon_type_energy_weapon_damage_mult
            ID = 1000
        }
        inline_script = { 
            script = kuat_reasearch_event/kuat_system_research_repeatable_Config 
            TECH = tech_repeatable_weapon_type_energy_fire_rate 
            TECH_AREA = physics TECH_MODIFIER = weapon_type_energy_weapon_fire_rate_mult
            ID = 1001
        }
        inline_script = { 
            script = kuat_reasearch_event/kuat_system_research_repeatable_Config 
            TECH = tech_repeatable_weapon_type_explosive_damage 
            TECH_AREA = physics TECH_MODIFIER = weapon_type_explosive_weapon_damage_mult
            ID = 2000
        }
        inline_script = { 
            script = kuat_reasearch_event/kuat_system_research_repeatable_Config 
            TECH = tech_repeatable_weapon_type_explosive_fire_rate 
            TECH_AREA = physics TECH_MODIFIER = weapon_type_explosive_weapon_fire_rate_mult
            ID = 2001
        }
        inline_script = {
            script = kuat_reasearch_event/kuat_system_research_normal_Config
            TECH_AREA = society KEY = find_solar_system_endodia ID = 1000
        }
        inline_script = { 
            script = kuat_reasearch_event/kuat_system_research_repeatable_Config 
            TECH = tech_repeatable_weapon_type_strike_craft_fire_damage 
            TECH_AREA = society TECH_MODIFIER = weapon_type_strike_craft_weapon_damage_mult
            ID = 2000
        }
        inline_script = { 
            script = kuat_reasearch_event/kuat_system_research_repeatable_Config 
            TECH = tech_repeatable_weapon_type_strike_craft_fire_rate 
            TECH_AREA = society TECH_MODIFIER = weapon_type_strike_craft_weapon_fire_rate_mult
            ID = 2001
        }
        inline_script = { 
            script = kuat_reasearch_event/kuat_system_research_repeatable_Config 
            TECH = tech_repeatable_weapon_type_kinetic_damage 
            TECH_AREA = engineering TECH_MODIFIER = weapon_type_kinetic_weapon_damage_mult
            ID = 3000
        }
        inline_script = { 
            script = kuat_reasearch_event/kuat_system_research_repeatable_Config 
            TECH = tech_repeatable_weapon_type_kinetic_fire_rate 
            TECH_AREA = engineering TECH_MODIFIER = weapon_type_kinetic_weapon_fire_rate_mult
            ID = 3001
        }
        inline_script = { 
            script = kuat_reasearch_event/kuat_system_research_normal_Config
            TECH_AREA = engineering KEY = Name_boss_crisis_DC_BOSS ID = 1000
        }
        inline_script = { 
            script = kuat_reasearch_event/kuat_system_research_normal_Config
            TECH_AREA = engineering KEY = Name_boss_crisis_DB_BOSS ID = 1001
        }
        inline_script = { 
            script = kuat_reasearch_event/kuat_system_research_normal_Config
            TECH_AREA = engineering KEY = Name_boss_crisis_DF_BOSS ID = 1002
        }
        inline_script = { 
            script = kuat_reasearch_event/kuat_system_research_normal_Config
            TECH_AREA = engineering KEY = Name_boss_crisis_SP_BOSS ID = 1003
        }
        inline_script = { 
            script = kuat_reasearch_event/kuat_system_research_normal_Config
            TECH_AREA = engineering KEY = Name_boss_crisis_SPC_BOSS ID = 1004
        }
        inline_script = { 
            script = kuat_reasearch_event/kuat_system_research_normal_Config
            TECH_AREA = engineering KEY = Name_boss_crisis_SPF_BOSS ID = 1005
        }
    }
}

#节点功能
country_event = {
    id = kuat_extramonster_expand.34
    title = "kuat_extramonster_expand.32.name"
    desc = "kuat_extramonster_expand.32.desc"
    picture_event_data = { room = ancient_knowledge_room }
    custom_gui = "kuat_event_research_diplomacy_window"
    custom_gui_option = "kuat_event_research_diplomacy_option"
    diplomatic = yes
    show_sound = event_energy_field
    is_triggered_only = yes

    trigger = {
        is_player_country = yes
    }

    #pyhysics
    option = {
        name = "Name_kuat_Physics"
        hidden_effect = { country_event = { id = kuat_extramonster_expand.32 } }
    }
    #society
    option = {
        name = "Name_kuat_Society"
        hidden_effect = { country_event = { id = kuat_extramonster_expand.35 } }
    }
    #engineering
    option = {
        name = "Name_kuat_Engineering"
        hidden_effect = { country_event = { id = kuat_extramonster_expand.36 } }
    }
    option = { name = kuat_extramonster_expand.32.exit }
}

country_event = {
    id = kuat_extramonster_expand.37
    hide_window = yes
    is_triggered_only = yes
    trigger = { last_increased_tech = tech_Name_boss_crisis_DC_BOSS }
    immediate = {
        create_ship_design = { design = Name_boss_crisis_DC_BOSS }
        add_ship_design = last_created_design
    }
}

country_event = {
    id = kuat_extramonster_expand.38
    hide_window = yes
    is_triggered_only = yes
    trigger = { last_increased_tech = tech_Name_boss_crisis_DB_BOSS }
    immediate = {
        create_ship_design = { design = Name_boss_crisis_DB_BOSS }
        add_ship_design = last_created_design
    }
}

country_event = {
    id = kuat_extramonster_expand.53
    hide_window = yes
    is_triggered_only = yes
    trigger = { last_increased_tech = tech_Name_boss_crisis_DF_BOSS }
    immediate = {
        create_ship_design = { design = Name_boss_crisis_DF_BOSS }
        add_ship_design = last_created_design
    }
}

country_event = {
    id = kuat_extramonster_expand.54
    hide_window = yes
    is_triggered_only = yes
    trigger = { last_increased_tech = tech_Name_boss_crisis_SPC_BOSS }
    immediate = {
        create_ship_design = { design = Name_boss_crisis_SPC_BOSS }
        add_ship_design = last_created_design
    }
}

country_event = {
    id = kuat_extramonster_expand.55
    hide_window = yes
    is_triggered_only = yes
    trigger = { last_increased_tech = tech_Name_boss_crisis_SP_BOSS }
    immediate = {
        create_ship_design = { design = Name_boss_crisis_SP_BOSS }
        add_ship_design = last_created_design
    }
}

country_event = {
    id = kuat_extramonster_expand.56
    hide_window = yes
    is_triggered_only = yes
    trigger = { last_increased_tech = tech_Name_boss_crisis_SPF_BOSS }
    immediate = {
        create_ship_design = { design = Name_boss_crisis_SPF_BOSS }
        add_ship_design = last_created_design
    }
}

#深渊节点修复后，水晶信标拓展
#找探查到异常亚空间信号
country_event = {
    id = kuat_extramonster_expand.39
    title = "kuat_extramonster_expand.39.name"
    desc = "kuat_extramonster_expand.39.desc"
    picture_event_data = { room = astral_rift_dimensional_dump_room }
    custom_gui = "kuat_event_window"
    custom_gui_option = "kuat_event_option"
    diplomatic = yes
    fire_only_once = yes
    mean_time_to_happen = { years = 1 }
    trigger = {
        is_player_country = yes
        exists = event_target:kuat_contractor_country
        has_country_flag = enable_the_F_system_line_stage_10
        NOT = { has_country_flag = enable_the_F_system_line_stage_13_PH1 }
    }
    immediate = {
        set_country_flag = enable_the_F_system_line_stage_13_PH1
    }
    option = { name = "kuat_extramonster_expand.39.a" }
}

#数据上传完成
country_event = {
    id = kuat_extramonster_expand.40
    title = "kuat_extramonster_expand.40.name"
    desc = "kuat_extramonster_expand.40.desc"
    picture_event_data = { room = no_video_feed_room }
    custom_gui = "kuat_event_diplomacy_window"
    custom_gui_option = "kuat_event_diplomacy_option"
    location = event_target:kuat_contractor_country
    diplomatic = yes
    is_triggered_only = yes
    trigger = {
        has_country_flag = enable_the_F_system_line_stage_13_PH2
    }
    immediate = {
        enable_special_project = {
            name = "exe_enable_the_F_system_line_stage_14"
            location = root.capital_scope owner = root
        }
    }
    option = { name = "kuat_extramonster_expand.40.a" }
}

#深渊计算机解析坐标数据
country_event = {
    id = kuat_extramonster_expand.41
    title = "kuat_extramonster_expand.41.name"
    desc = "kuat_extramonster_expand.41.desc"
    picture_event_data = { room = astral_rift_clock_room }
    custom_gui = "kuat_event_m_window"
    custom_gui_option = "kuat_event_m_option"
    diplomatic = yes
    is_triggered_only = yes
    immediate = {
        set_country_flag = kuat_research_find_solar_system_endodia_building_research
    }
    option = { name = kuat_extramonster_expand.41.a }
}

country_event = {
    id = kuat_extramonster_expand.42
    title = "kuat_extramonster_expand.42.name"
    desc = "kuat_extramonster_expand.42.desc"
    picture_event_data = { room = astral_rift_clock_room }
    custom_gui = "kuat_event_m_window"
    custom_gui_option = "kuat_event_m_option"
    diplomatic = yes
    is_triggered_only = yes
    trigger = {
        has_country_flag = kuat_research_find_solar_system_endodia_building_research
        last_increased_tech = tech_find_solar_system_endodia
    }
    immediate = {
        random_system_within_border = {
            limit = { is_capital_system = yes }
            spawn_system = { initializer = myst_system_7 hyperlane = no }
        }
    }
    option = { name = kuat_extramonster_expand.42.a }
}

ship_event = {
    id = kuat_extramonster_expand.43
    title = "kuat_extramonster_expand.43.name"
    desc = "kuat_extramonster_expand.43.desc"
    picture_event_data = { room = astral_rift_fluid_devour_room }
    custom_gui = "kuat_event_window"
    custom_gui_option = "kuat_event_option"
    diplomatic = yes
    is_triggered_only = yes
    trigger = {
        exists = owner
        owner = {
            is_player_country = yes
            has_country_flag = kuat_research_find_solar_system_endodia_building_research
        }
        from = { has_star_flag = myst_system_7 }
    }
    immediate = {
        owner = {
            set_country_flag = enable_the_F_system_line_stage_14
            country_event = { id = kuat_extramonster_expand.44 days = 15 random = 30 }
        }
    }
    option = { name = kuat_extramonster_expand.43.a }
}

country_event = {
    id = kuat_extramonster_expand.44
    title = "kuat_extramonster_expand.44.name"
    desc = "kuat_extramonster_expand.44.desc"
    picture_event_data = { room = black_hole_room }
    custom_gui = "kuat_event_window"
    custom_gui_option = "kuat_event_option"
    diplomatic = yes
    is_triggered_only = yes
    trigger = {
        is_player_country = yes
        has_country_flag = enable_the_F_system_line_stage_14
    }
    immediate = {
        enable_special_project = {
            name = "exe_enable_the_F_system_line_stage_15"
            location = root.capital_scope owner = root
        }
    }
    option = { name = kuat_extramonster_expand.44.a }
}

country_event = {
    id = kuat_extramonster_expand.45
    title = "kuat_extramonster_expand.45.name"
    desc = "kuat_extramonster_expand.45.desc"
    picture_event_data = { room = astral_rift_tomb_room }
    custom_gui = "kuat_event_window"
    custom_gui_option = "kuat_event_option"
    diplomatic = yes
    is_triggered_only = yes
    trigger = { is_player_country = yes }
    immediate = {
        event_target:myst_system_7_planet = {
            change_pc = pc_kuat_auto_ringworld_habitable
            set_planet_size = 100
            while = {
                count = 10
                add_deposit = d_tomb_world_wasteland
                add_deposit = d_bomb_crater
                add_deposit = d_city_ruins
                add_deposit = d_ruined_district
                add_deposit = d_failing_infrastructure
            }
            set_planet_entity = { entity = fallen_empire_kuat_01_ringworld_tech_entity_01_entity }
        }
    }
    option = { name = kuat_extramonster_expand.45.a }
}

planet_event = {
    id = kuat_extramonster_expand.46
    title = "kuat_extramonster_expand.46.name"
    desc = "kuat_extramonster_expand.46.desc"
    picture_event_data = { room = astral_rift_tomb_room }
    custom_gui = "kuat_event_window"
    custom_gui_option = "kuat_event_option"
    diplomatic = yes
    is_triggered_only = yes
    trigger = {
        exists = owner
        owner = { is_player_country = yes }
        has_planet_flag = myst_system_7_planet
    }
    immediate = {
        clear_deposits = yes
        clear_blockers = yes
        remove_all_buildings = yes
        add_building = building_kuat_command_center_auto
        add_building = building_kuat_databank_auto
        add_building = building_kuat_ancient_databank_auto
        add_building = building_kuat_foundry_auto
        add_building = building_kuat_resource_center_auto
        add_building = building_kuat_shield_auto
        add_building = building_kuat_ground_yards_auto
        add_building = building_kuat_research_center_auto

        ruin_building = building_kuat_command_center_auto
        ruin_building = building_kuat_databank_auto
        ruin_building = building_kuat_ancient_databank_auto
        ruin_building = building_kuat_foundry_auto
        ruin_building = building_kuat_resource_center_auto
        ruin_building = building_kuat_shield_auto
        ruin_building = building_kuat_ground_yards_auto
        ruin_building = building_kuat_research_center_auto

        create_archaeological_site = site_F_systeam_2
    }
    option = { name = kuat_extramonster_expand.46.a }
}

fleet_event = {
    id = kuat_extramonster_expand.47
    title = "kuat_extramonster_expand.47.name"
    desc = "kuat_extramonster_expand.47.desc"
    picture = GFX_evt_astral_rift_tomb
    show_sound = event_wind_ruins

    archaeology = yes

    is_triggered_only = yes

    immediate = {
        from = { set_site_progress_locked = yes }
    }

    after = {
        from = { set_site_progress_locked = no }
    }

    option = {
        name = kuat_extramonster_expand.47.a
        small_artifact_reward = yes
    }
}

fleet_event = {
    id = kuat_extramonster_expand.48
    title = "kuat_extramonster_expand.48.name"
    desc = "kuat_extramonster_expand.48.desc"
    picture = GFX_evt_astral_rift_clock
    show_sound = event_wind_ruins

    archaeology = yes

    is_triggered_only = yes

    immediate = {
        from = { set_site_progress_locked = yes }
    }

    after = {
        from = { set_site_progress_locked = no }
    }

    option = {
        name = kuat_extramonster_expand.48.a
        small_artifact_reward = yes
    }
}

fleet_event = {
    id = kuat_extramonster_expand.49
    title = "kuat_extramonster_expand.49.name"
    desc = "kuat_extramonster_expand.49.desc"
    picture = GFX_evt_astral_rift_corridors
    show_sound = event_wind_ruins

    archaeology = yes

    is_triggered_only = yes

    immediate = {
        from = { set_site_progress_locked = yes }
    }

    after = {
        from = { set_site_progress_locked = no }
    }

    option = {
        name = kuat_extramonster_expand.49.a
        small_artifact_reward = yes
    }
}

fleet_event = {
    id = kuat_extramonster_expand.50
    title = "kuat_extramonster_expand.50.name"
    desc = "kuat_extramonster_expand.50.desc"
    picture = GFX_evt_sapient_AI
    show_sound = event_wind_ruins

    archaeology = yes

    is_triggered_only = yes

    immediate = {
        from = { set_site_progress_locked = yes }
    }

    after = {
        from = { set_site_progress_locked = no }
    }

    option = {
        name = kuat_extramonster_expand.50.a
        small_artifact_reward = yes
    }
}

fleet_event = {
    id = kuat_extramonster_expand.51
    title = "kuat_extramonster_expand.51.name"
    desc = "kuat_extramonster_expand.51.desc"
    picture = GFX_evt_astral_rift_clock
    show_sound = event_wind_ruins

    archaeology = yes

    is_triggered_only = yes

    immediate = {
        from = { set_site_progress_locked = yes }
    }

    after = {
        from = { set_site_progress_locked = no }
    }

    option = {
        name = kuat_extramonster_expand.51.a
        small_artifact_reward = yes
    }
}

fleet_event = {
    id = kuat_extramonster_expand.52
    title = "kuat_extramonster_expand.52.name"
    desc = "kuat_extramonster_expand.52.desc"
    picture = GFX_evt_em_war_2
    show_sound = event_wind_ruins

    archaeology = yes

    is_triggered_only = yes

    immediate = {
        from = { set_site_progress_locked = yes }
    }

    after = {
        from = { set_site_progress_locked = no }
    }

    option = {
        name = kuat_extramonster_expand.52.a
        small_artifact_reward = yes
        hidden_effect = {
            from.planet = {
                every_deposit = {
                    limit = { OR = {
                        is_deposit_type = d_tomb_world_wasteland
                        is_deposit_type = d_bomb_crater
                        is_deposit_type = d_city_ruins
                        is_deposit_type = d_ruined_district
                        is_deposit_type = d_failing_infrastructure
                    } }
                    remove_deposit = yes
                }
                kuat_automatic_ai_colony = yes
                change_pc = pc_kuat_auto_ringworld_habitable
                set_planet_size = 100
                set_planet_entity = { entity = fallen_empire_kuat_01_ringworld_tech_entity_01_entity }
            }
            owner = { country_event = { id = exe_return_invasion.40 days = 1080 random = 1080 } }
        }
    }

    option = {
        name = kuat_extramonster_expand.52.b
        small_artifact_reward = yes
        hidden_effect = {
            from.planet = {
                destroy_colony = yes
                remove_all_buildings = yes
                remove_deposit = yes
                remove_all_districts = yes
                every_owned_pop_group = { kill_pop_group = { pop_group = this } }
                change_pc = pc_ringworld_tech
                set_planet_entity = { entity = fallen_empire_kuat_01_ringworld_tech_entity_01_entity }
            }
            owner = {
                set_country_flag = enable_the_F_system_line_stage_15
                country_event = { id = exe_return_invasion.40 days = 720 random = 720 }
            }
        }
    }
}